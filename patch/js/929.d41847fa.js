"use strict";(self["webpackChunkapp"]=self["webpackChunkapp"]||[]).push([[929],{637:function(e,s,t){t.r(s),t.d(s,{default:function(){return cn}});var a=t(6768),i=t(5130),n=t(4232);const o=e=>((0,a.Qi)("data-v-160d3227"),e=e(),(0,a.jt)(),e),l={class:"main-reaction-view"},c={key:0,class:"loading"},r={key:0,class:"reaction-transition"},d={class:"nav-holder"},u={class:"nav"},v=["onClick"],p={class:"content"},k=o((()=>(0,a.Lk)("div",{class:"title"},"Summary",-1))),m={class:"section",id:"summary"},L={key:0,class:"summary"},y=["innerHTML"],C={key:0,id:"identifiers"},b=o((()=>(0,a.Lk)("div",{class:"title"},"Identifiers",-1))),w={class:"section"},h={class:"identifiers"},_={class:"value"},E={class:"value"},f={class:"value"},X={key:1,id:"inputs"},g=o((()=>(0,a.Lk)("div",{class:"title"},"Inputs",-1))),T={class:"section"},I={class:"tabs"},F=["onClick"],A={class:"input"},Q=o((()=>(0,a.Lk)("div",{class:"title"},"Details",-1))),R={class:"details"},K={class:"label"},O={class:"value"},D=o((()=>(0,a.Lk)("div",{class:"title"},"Components",-1))),M={class:"compound"},S={key:2,id:"setup"},x=o((()=>(0,a.Lk)("div",{class:"title"},"Setup",-1))),j={class:"section"},V={class:"tabs"},P=["onClick"],N={class:"details"},$={key:3,id:"conditions"},W=o((()=>(0,a.Lk)("div",{class:"title"},"Conditions",-1))),U={class:"section"},z={class:"tabs"},B=["onClick"],H={class:"details"},J={key:4,id:"notes"},G=o((()=>(0,a.Lk)("div",{class:"title"},"Notes",-1))),q={class:"section"},Y={class:"details"},Z={key:5,id:"observations"},ee=o((()=>(0,a.Lk)("div",{class:"title"},"Observations",-1))),se={class:"section"},te={class:"details"},ae={key:6,id:"workups"},ie=o((()=>(0,a.Lk)("div",{class:"title"},"Workups",-1))),ne={class:"section"},oe={class:"tabs"},le=["onClick"],ce={class:"details"},re={key:7,id:"outcomes"},de=o((()=>(0,a.Lk)("div",{class:"title"},"Outcomes",-1))),ue={class:"section"},ve={class:"tabs"},pe=["onClick"],ke={class:"details"},me={key:8,id:"provenance"},Le=o((()=>(0,a.Lk)("div",{class:"title"},"Provenance",-1))),ye={class:"section"},Ce={key:9,id:"events"},be=o((()=>(0,a.Lk)("div",{class:"title"},"Record Events",-1))),we={class:"section"},he={key:10,id:"full-record"},_e=o((()=>(0,a.Lk)("div",{class:"title"},"Full Record",-1))),Ee={class:"section"},fe={class:"data"};function Xe(e,s,t,o,Xe,ge){const Te=(0,a.g2)("LoadingSpinner"),Ie=(0,a.g2)("CompoundView"),Fe=(0,a.g2)("SetupView"),Ae=(0,a.g2)("ConditionsView"),Qe=(0,a.g2)("NotesView"),Re=(0,a.g2)("ObservationsView"),Ke=(0,a.g2)("WorkupsView"),Oe=(0,a.g2)("OutcomesView"),De=(0,a.g2)("ProvenanceView"),Me=(0,a.g2)("EventsView"),Se=(0,a.g2)("FloatingModal");return(0,a.uX)(),(0,a.CE)("div",l,[(0,a.bF)(i.eB,{name:"fade"},{default:(0,a.k6)((()=>[Xe.loading?((0,a.uX)(),(0,a.CE)("div",c,[(0,a.bF)(Te)])):(0,a.Q3)("",!0)])),_:1}),(0,a.bF)(i.eB,{name:"fade"},{default:(0,a.k6)((()=>[Xe.loading?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("div",r,[(0,a.Lk)("div",d,[(0,a.Lk)("div",u,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(Xe.navItems,(e=>((0,a.uX)(),(0,a.CE)("div",{class:(0,n.C4)(["nav-item",Xe.activeNav==e?"active":""]),onClick:s=>ge.scrollTo(e)},(0,n.v_)(e.replaceAll("-"," ")),11,v)))),256))])]),(0,a.Lk)("div",p,[k,(0,a.Lk)("div",m,[Xe.reactionSummary?((0,a.uX)(),(0,a.CE)("div",L,[(0,a.Lk)("div",{class:"display",innerHTML:Xe.reactionSummary},null,8,y)])):(0,a.Q3)("",!0)]),Xe.reaction?.identifiersList?.length?((0,a.uX)(),(0,a.CE)("div",C,[b,(0,a.Lk)("div",w,[(0,a.Lk)("div",h,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(Xe.reaction.identifiersList,(e=>((0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.Lk)("div",_,(0,n.v_)(ge.getReactionType(e.type)),1),(0,a.Lk)("div",E,(0,n.v_)(e.value),1),(0,a.Lk)("div",f,(0,n.v_)(e.details),1)],64)))),256))])])])):(0,a.Q3)("",!0),Xe.reaction?.inputsMap?.length?((0,a.uX)(),(0,a.CE)("div",X,[g,(0,a.Lk)("div",T,[(0,a.Lk)("div",I,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(Xe.reaction.inputsMap,((e,s)=>((0,a.uX)(),(0,a.CE)("div",{class:(0,n.C4)(["tab",Xe.inputsIdx==s?"selected":""]),onClick:e=>Xe.inputsIdx=s},(0,n.v_)(e[0]),11,F)))),256))]),(0,a.Lk)("div",A,[Q,(0,a.Lk)("div",R,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(Object.keys(ge.displayDetails),(e=>((0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.Lk)("div",K,(0,n.v_)(e.replaceAll(/(?=[A-Z])/g," ")),1),(0,a.Lk)("div",O,(0,n.v_)(ge.displayDetails[e]),1)],64)))),256))]),D,(0,a.Lk)("div",M,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(Xe.reaction.inputsMap[Xe.inputsIdx][1].componentsList,(e=>((0,a.uX)(),(0,a.Wv)(Ie,{component:e},null,8,["component"])))),256))])])])])):(0,a.Q3)("",!0),Xe.reaction?.setup?((0,a.uX)(),(0,a.CE)("div",S,[x,(0,a.Lk)("div",j,[(0,a.Lk)("div",V,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(Xe.setupTabs,(e=>((0,a.uX)(),(0,a.CE)(a.FK,null,["automation"!==e||Xe.reaction.setup.is_automated?((0,a.uX)(),(0,a.CE)("div",{key:0,class:(0,n.C4)(["tab capitalize",Xe.setupTab===e?"selected":""]),onClick:s=>Xe.setupTab=e},(0,n.v_)(e),11,P)):(0,a.Q3)("",!0)],64)))),256))]),(0,a.Lk)("div",N,[(0,a.bF)(Fe,{setup:Xe.reaction.setup,display:Xe.setupTab},null,8,["setup","display"])])])])):(0,a.Q3)("",!0),Xe.reaction?.conditions?((0,a.uX)(),(0,a.CE)("div",$,[W,(0,a.Lk)("div",U,[(0,a.Lk)("div",z,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(Xe.conditionTabs,(e=>((0,a.uX)(),(0,a.CE)(a.FK,null,[Xe.reaction.conditions[e]||"other"===e&&ge.displayConditionsOther?((0,a.uX)(),(0,a.CE)("div",{key:0,class:(0,n.C4)(["tab capitalize",Xe.conditionTab===e?"selected":""]),onClick:s=>Xe.conditionTab=e},(0,n.v_)(e),11,B)):(0,a.Q3)("",!0)],64)))),256))]),(0,a.Lk)("div",H,[(0,a.bF)(Ae,{conditions:Xe.reaction.conditions,display:Xe.conditionTab},null,8,["conditions","display"])])])])):(0,a.Q3)("",!0),Xe.reaction.notes?((0,a.uX)(),(0,a.CE)("div",J,[G,(0,a.Lk)("div",q,[(0,a.Lk)("div",Y,[(0,a.bF)(Qe,{notes:Xe.reaction.notes},null,8,["notes"])])])])):(0,a.Q3)("",!0),Xe.reaction.observationsList?.length?((0,a.uX)(),(0,a.CE)("div",Z,[ee,(0,a.Lk)("div",se,[(0,a.Lk)("div",te,[(0,a.bF)(Re,{observations:Xe.reaction.observationsList},null,8,["observations"])])])])):(0,a.Q3)("",!0),Xe.reaction.workupsList?.length?((0,a.uX)(),(0,a.CE)("div",ae,[ie,(0,a.Lk)("div",ne,[(0,a.Lk)("div",oe,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(Xe.reaction.workupsList,((e,s)=>((0,a.uX)(),(0,a.CE)("div",{class:(0,n.C4)(["tab capitalize",Xe.workupsTab===s?"selected":""]),onClick:e=>Xe.workupsTab=s},(0,n.v_)(ge.getWorkupLabel(e.type)),11,le)))),256))]),(0,a.Lk)("div",ce,[(0,a.bF)(Ke,{workup:Xe.reaction.workupsList[Xe.workupsTab]},null,8,["workup"])])])])):(0,a.Q3)("",!0),Xe.reaction.outcomesList?.length?((0,a.uX)(),(0,a.CE)("div",re,[de,(0,a.Lk)("div",ue,[(0,a.Lk)("div",ve,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(Xe.reaction.outcomesList,((e,s)=>((0,a.uX)(),(0,a.CE)("div",{class:(0,n.C4)(["tab capitalize",Xe.outcomesTab===s?"selected":""]),onClick:e=>Xe.outcomesTab=s},"Outcome "+(0,n.v_)(s+1),11,pe)))),256))]),(0,a.Lk)("div",ke,[(0,a.bF)(Oe,{outcome:Xe.reaction.outcomesList[Xe.outcomesTab]},null,8,["outcome"])])])])):(0,a.Q3)("",!0),Xe.reaction.provenance?((0,a.uX)(),(0,a.CE)("div",me,[Le,(0,a.Lk)("div",ye,[(0,a.bF)(De,{provenance:Xe.reaction.provenance},null,8,["provenance"])])])):(0,a.Q3)("",!0),ge.events?.length?((0,a.uX)(),(0,a.CE)("div",Ce,[be,(0,a.Lk)("div",we,[(0,a.bF)(Me,{events:ge.events},null,8,["events"])])])):(0,a.Q3)("",!0),Xe.reaction?((0,a.uX)(),(0,a.CE)("div",he,[_e,(0,a.Lk)("div",Ee,[(0,a.Lk)("div",{class:"full-record button",onClick:s[0]||(s[0]=e=>Xe.showRawReaction=!0)},"View Full Record")]),Xe.showRawReaction?((0,a.uX)(),(0,a.Wv)(Se,{key:0,title:"Raw Data",onCloseModal:s[1]||(s[1]=e=>Xe.showRawReaction=!1)},{default:(0,a.k6)((()=>[(0,a.Lk)("div",fe,[(0,a.Lk)("pre",null,(0,n.v_)(Xe.reaction),1)])])),_:1})):(0,a.Q3)("",!0)])):(0,a.Q3)("",!0)])]))])),_:1})])}t(4114);var ge=t(2639),Te=t.n(ge);const Ie=e=>((0,a.Qi)("data-v-5886efac"),e=e(),(0,a.jt)(),e),Fe=Ie((()=>(0,a.Lk)("div",{class:"label"},"Compound",-1))),Ae={key:0,class:"label"},Qe=Ie((()=>(0,a.Lk)("div",{class:"label"},"Role",-1))),Re=Ie((()=>(0,a.Lk)("div",{class:"label"},"Raw",-1))),Ke=["innerHTML"],Oe={key:1,class:"amount"},De={class:"role"},Me={class:"raw"},Se={class:"data"},xe={key:0},je={key:1},Ve={key:2},Pe={key:3};function Ne(e,s,t,i,o,l){const c=(0,a.g2)("floating-modal");return(0,a.uX)(),(0,a.CE)("div",{class:"compound-view",style:(0,n.Tr)({gridTemplateColumns:l.gridColumns})},[Fe,t.component.amount?((0,a.uX)(),(0,a.CE)("div",Ae,"Amount")):(0,a.Q3)("",!0),Qe,Re,(0,a.Lk)("div",{class:"svg",innerHTML:o.compoundSVG},null,8,Ke),t.component.amount?((0,a.uX)(),(0,a.CE)("div",Oe,(0,n.v_)(l.compoundAmount),1)):(0,a.Q3)("",!0),(0,a.Lk)("div",De,(0,n.v_)(l.compoundRole.toLowerCase()),1),(0,a.Lk)("div",Me,[(0,a.Lk)("div",{class:"button",onClick:s[0]||(s[0]=e=>o.showRawData=!0)},"<> ")]),o.showRawData?((0,a.uX)(),(0,a.Wv)(c,{key:2,title:"Raw Data",onCloseModal:s[1]||(s[1]=e=>o.showRawData=!1)},{default:(0,a.k6)((()=>[(0,a.Lk)("div",Se,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(l.rawData.identifiers,(e=>((0,a.uX)(),(0,a.CE)("pre",null,"identifiers: "+(0,n.v_)(e),1)))),256)),l.rawData.amount?((0,a.uX)(),(0,a.CE)("pre",xe,"amount: "+(0,n.v_)(l.rawData.amount),1)):(0,a.Q3)("",!0),(0,a.Lk)("pre",null,"reaction_role: "+(0,n.v_)(l.rawData.reaction_role),1),l.rawData.is_desired_product?((0,a.uX)(),(0,a.CE)("pre",je,"is_desired_product: "+(0,n.v_)(l.rawData.is_desired_product),1)):(0,a.Q3)("",!0),l.rawData.isolated_color?((0,a.uX)(),(0,a.CE)("pre",Ve,"isolated_color: "+(0,n.v_)(l.rawData.isolated_color),1)):(0,a.Q3)("",!0),l.rawData.texture?((0,a.uX)(),(0,a.CE)("pre",Pe,"texture: "+(0,n.v_)(l.rawData.texture),1)):(0,a.Q3)("",!0),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(l.rawData.preparations,(e=>((0,a.uX)(),(0,a.CE)("pre",null,"preparations: "+(0,n.v_)(e),1)))),256))])])),_:1})):(0,a.Q3)("",!0)],4)}var $e=t(2272);const We=e=>{if(!e)return{};let s={},t="";if(e.moles)s=Te().Moles.MolesUnit,t="moles";else if(e.volume)s=Te().Volume.VolumeUnit,t="volume";else if(e.mass)s=Te().Mass.MassUnit,t="mass";else if(e.unmeasured)return{unitAmount:"",unitCategory:"unmeasured"};const a=e[t].units,i=e[t].value;e[t].precision;return{unitAmount:i,unitType:Object.keys(s).find((e=>s[e]==a)),unitCategory:t}},Ue=e=>e.unitAmount&&e.unitType?`${Math.round(1e3*e.unitAmount)/1e3} ${e.unitType.toLowerCase()}`:"";var ze={props:{component:Object},components:{"floating-modal":$e.A},watch:{component:{handler(e){this.getCompoundSVG(e)},deep:!0,immediate:!0}},data(){return{compoundSVG:null,showRawData:!1}},computed:{compoundAmountObj(){return We(this.component.amount)},compoundAmount(){return Ue(this.compoundAmountObj)},compoundRole(){const e=this.component.reactionRole,s=Te().ReactionRole.ReactionRoleType;return Object.keys(s).find((t=>s[t]==e))},rawData(){const e={},s=Te().CompoundIdentifier.CompoundIdentifierType;if(e["identifiers"]=this.component?.identifiersList?.map((e=>({type:Object.keys(s).find((t=>s[t]==e.type)),value:e.value}))),this.component?.amount&&(e["amount"]={[this.compoundAmountObj.unitCategory]:{value:this.compoundAmountObj.unitAmount,units:this.compoundAmountObj.unitType}}),this.component?.preparationsList?.length){const s=Te().CompoundPreparation.CompoundPreparationType;e["preparations"]=this.component.preparationsList.map((e=>({type:Object.keys(s).find((t=>s[t]==e.type)),details:e.details})))}if(this.component?.isDesiredProduct&&(e["is_desired_product"]=this.component.isDesiredProduct),this.component?.isolatedColor&&(e["isolated_color"]=this.component.isolatedColor),this.component?.texture){const s=Te().ProductCompound.Texture.TextureType,t=Object.keys(s).find((e=>s[e]==this.component.texture.type)),a={type:t};this.component.texture.details&&(a.details=this.component.texture.details),e["texture"]=a}return e["reaction_role"]=this.compoundRole,e},gridColumns(){return`1fr repeat(${this.component?.amount?3:2}, auto)`}},methods:{getCompoundSVG(e){const s=e.identifiersList.find((e=>2==e.type)).value,t=new(Te().Compound),a=t.addIdentifiers();return a.setValue(s),a.setType(Te().CompoundIdentifier.CompoundIdentifierType.SMILES),new Promise((e=>{const s=new XMLHttpRequest;s.open("POST","/api/render/compound/svg");const a=t.serializeBinary();s.responseType="json",s.onload=function(){e(s.response)},s.send(a)})).then((e=>{this.compoundSVG=e}))}}},Be=t(1241);const He=(0,Be.A)(ze,[["render",Ne],["__scopeId","data-v-5886efac"]]);var Je=He;const Ge=e=>((0,a.Qi)("data-v-7a05b905"),e=e(),(0,a.jt)(),e),qe={class:"setup-view"},Ye={key:0,class:"vessel details"},Ze=Ge((()=>(0,a.Lk)("div",{class:"label"},"Type",-1))),es={class:"value"},ss=Ge((()=>(0,a.Lk)("div",{class:"label"},"Details",-1))),ts={class:"value"},as=Ge((()=>(0,a.Lk)("div",{class:"label"},"Material",-1))),is={class:"value"},ns=Ge((()=>(0,a.Lk)("div",{class:"label"},"Volume",-1))),os={class:"value"},ls=Ge((()=>(0,a.Lk)("div",{class:"label"},"Attachments",-1))),cs={class:"value"},rs=Ge((()=>(0,a.Lk)("div",{class:"label"},"Preparations",-1))),ds={class:"value"},us={key:1,class:"environment details"},vs=Ge((()=>(0,a.Lk)("div",{class:"label"},"Type",-1))),ps={class:"value"},ks=Ge((()=>(0,a.Lk)("div",{class:"label"},"Details",-1))),ms={class:"value"},Ls={key:2,class:"automated details"},ys=Ge((()=>(0,a.Lk)("div",{class:"label"},"Platform",-1))),Cs={class:"value"};function bs(e,s,t,i,o,l){return(0,a.uX)(),(0,a.CE)("div",qe,["vessel"==t.display?((0,a.uX)(),(0,a.CE)("div",Ye,[Ze,(0,a.Lk)("div",es,(0,n.v_)(l.vesselType),1),l.vessel.details?((0,a.uX)(),(0,a.CE)(a.FK,{key:0},[ss,(0,a.Lk)("div",ts,(0,n.v_)(l.vessel.details),1)],64)):(0,a.Q3)("",!0),as,(0,a.Lk)("div",is,(0,n.v_)(l.vesselMaterial||"UNSPECIFIED"),1),ns,(0,a.Lk)("div",os,(0,n.v_)(l.vesselVolume),1),l.vessel.attachmentsList?.length?((0,a.uX)(),(0,a.CE)(a.FK,{key:1},[ls,(0,a.Lk)("div",cs,(0,n.v_)(l.vesselAttachments),1)],64)):(0,a.Q3)("",!0),l.vessel.preparationsList?.length?((0,a.uX)(),(0,a.CE)(a.FK,{key:2},[rs,(0,a.Lk)("div",ds,(0,n.v_)(l.vesselPrep),1)],64)):(0,a.Q3)("",!0)])):(0,a.Q3)("",!0),"environment"==t.display?((0,a.uX)(),(0,a.CE)("div",us,[vs,(0,a.Lk)("div",ps,(0,n.v_)(l.reactionEnv||"UNSPECIFIED"),1),t.setup.environment?.details?((0,a.uX)(),(0,a.CE)(a.FK,{key:0},[ks,(0,a.Lk)("div",ms,(0,n.v_)(t.setup.environment.details),1)],64)):(0,a.Q3)("",!0)])):(0,a.Q3)("",!0),"automated"==t.display?((0,a.uX)(),(0,a.CE)("div",Ls,[ys,(0,a.Lk)("div",Cs,(0,n.v_)(t.setup.automation_platform||"UNSPECIFIED"),1)])):(0,a.Q3)("",!0)])}var ws={props:{setup:Object,display:String},computed:{vessel(){return this.setup.vessel},vesselType(){const e=Te().Vessel.VesselType;return Object.keys(e).find((s=>e[s]==this.vessel.type))},vesselVolume(){const e=Te().Volume.VolumeUnit,s=Object.keys(e).find((s=>e[s]==this.vessel.volume.units));return`${this.vessel.volume.value} ${s.toLowerCase()}`},vesselAttachments(){const e=Te().VesselAttachment.VesselAttachmentType;return this.vessel.attachmentsList.map((s=>{const t=Object.keys(e).find((t=>e[t]==s.type));return`${t}${s.details?`: ${s.details}`:""}`})).join(", ")},vesselPrep(){const e=Te().VesselPreparation.VesselPreparationType;return this.vessel.preparationsList.map((s=>{const t=Object.keys(e).find((t=>e[t]==s.type));return`${t}${s.details?`: ${s.details}`:""}`})).join(", ")},vesselMaterial(){const e=Te().VesselMaterial.VesselMaterialType;return Object.keys(e).find((s=>e[s]==this.vessel.material?.type))},reactionEnv(){const e=this.setup.environment?.type;if(!e)return null;const s=Te().ReactionSetup.ReactionEnvironment.ReactionEnvironmentType;return Object.keys(s).find((t=>s[t]==e))}},mounted(){console.log("pb",Te()),console.log("props",this.setup)}};const hs=(0,Be.A)(ws,[["render",bs],["__scopeId","data-v-7a05b905"]]);var _s=hs;const Es=e=>((0,a.Qi)("data-v-a52a19f2"),e=e(),(0,a.jt)(),e),fs={class:"conditions-view"},Xs={key:0,class:"temperature details"},gs=Es((()=>(0,a.Lk)("div",{class:"label"},"Control Type",-1))),Ts={class:"value"},Is=Es((()=>(0,a.Lk)("div",{class:"label"},"Details",-1))),Fs={class:"value"},As=Es((()=>(0,a.Lk)("div",{class:"label"},"Setpoint",-1))),Qs={class:"value"},Rs=Es((()=>(0,a.Lk)("div",{class:"label"},"Measurements",-1))),Ks={class:"value"},Os={key:1,class:"pressure details"},Ds=Es((()=>(0,a.Lk)("div",{class:"label"},"Control Type",-1))),Ms={class:"value"},Ss=Es((()=>(0,a.Lk)("div",{class:"label"},"Details",-1))),xs={class:"value"},js=Es((()=>(0,a.Lk)("div",{class:"label"},"Setpoint",-1))),Vs={class:"value"},Ps=Es((()=>(0,a.Lk)("div",{class:"label"},"Atmosphere",-1))),Ns={class:"value"},$s=Es((()=>(0,a.Lk)("div",{class:"label"},"Measurements",-1))),Ws={class:"value"},Us={key:2,class:"stirring details"},zs=Es((()=>(0,a.Lk)("div",{class:"label"},"Type",-1))),Bs={class:"value"},Hs=Es((()=>(0,a.Lk)("div",{class:"label"},"Details",-1))),Js={class:"value"},Gs=Es((()=>(0,a.Lk)("div",{class:"label"},"Rate",-1))),qs={class:"value"},Ys=Es((()=>(0,a.Lk)("div",{class:"label"},"RPM",-1))),Zs={class:"value"},et={key:3,class:"illumination details"},st=Es((()=>(0,a.Lk)("div",{class:"label"},"Type",-1))),tt={class:"value"},at=Es((()=>(0,a.Lk)("div",{class:"label"},"Peak Wavelength",-1))),it={class:"value"},nt=Es((()=>(0,a.Lk)("div",{class:"label"},"Color",-1))),ot={class:"value"},lt=Es((()=>(0,a.Lk)("div",{class:"label"},"Distance to Vessel",-1))),ct={class:"value"},rt={key:4,class:"electro details"},dt=Es((()=>(0,a.Lk)("div",{class:"label"},"Type",-1))),ut={class:"value"},vt={key:5,class:"electro details"},pt=Es((()=>(0,a.Lk)("div",{class:"label"},"Type",-1))),kt={class:"value"},mt={key:6,class:"other details"},Lt=Es((()=>(0,a.Lk)("div",{class:"label"},"Reflux",-1))),yt={class:"value"},Ct=Es((()=>(0,a.Lk)("div",{class:"label"},"pH",-1))),bt={class:"value"},wt=Es((()=>(0,a.Lk)("div",{class:"label"},"Conditions are dynamic",-1))),ht={class:"value"},_t=Es((()=>(0,a.Lk)("div",{class:"label"},"Details",-1))),Et={class:"value"};function ft(e,s,t,i,o,l){return(0,a.uX)(),(0,a.CE)("div",fs,["temperature"===t.display?((0,a.uX)(),(0,a.CE)("div",Xs,[gs,(0,a.Lk)("div",Ts,(0,n.v_)(l.tempType),1),t.conditions.temperature.control.details?((0,a.uX)(),(0,a.CE)(a.FK,{key:0},[Is,(0,a.Lk)("div",Fs,(0,n.v_)(t.conditions.temperature.control.details),1)],64)):(0,a.Q3)("",!0),As,(0,a.Lk)("div",Qs,(0,n.v_)(l.tempSetPoint),1),t.conditions.temperature.measurementsList?.length?((0,a.uX)(),(0,a.CE)(a.FK,{key:1},[Rs,(0,a.Lk)("div",Ks,(0,n.v_)(t.conditions.temperature.measurementsList),1)],64)):(0,a.Q3)("",!0)])):(0,a.Q3)("",!0),"pressure"===t.display?((0,a.uX)(),(0,a.CE)("div",Os,[Ds,(0,a.Lk)("div",Ms,(0,n.v_)(l.pressureType),1),t.conditions.pressure.control.details?((0,a.uX)(),(0,a.CE)(a.FK,{key:0},[Ss,(0,a.Lk)("div",xs,(0,n.v_)(t.conditions.pressure.control.details),1)],64)):(0,a.Q3)("",!0),js,(0,a.Lk)("div",Vs,(0,n.v_)(l.pressureSetPoint),1),Ps,(0,a.Lk)("div",Ns,(0,n.v_)(l.pressureAtmo),1),t.conditions.pressure.measurementsList?.length?((0,a.uX)(),(0,a.CE)(a.FK,{key:1},[$s,(0,a.Lk)("div",Ws,(0,n.v_)(t.conditions.pressure.measurementsList),1)],64)):(0,a.Q3)("",!0)])):(0,a.Q3)("",!0),"stirring"===t.display?((0,a.uX)(),(0,a.CE)("div",Us,[zs,(0,a.Lk)("div",Bs,(0,n.v_)(l.stirType),1),t.conditions.stirring.details?((0,a.uX)(),(0,a.CE)(a.FK,{key:0},[Hs,(0,a.Lk)("div",Js,(0,n.v_)(t.conditions.stirring.details),1)],64)):(0,a.Q3)("",!0),Gs,(0,a.Lk)("div",qs,(0,n.v_)(l.stirRate||"UNSPECIFIED"),1),t.conditions.stirring.rate?.rpm?((0,a.uX)(),(0,a.CE)(a.FK,{key:1},[Ys,(0,a.Lk)("div",Zs,(0,n.v_)(t.conditions.stirring.rate.rpm),1)],64)):(0,a.Q3)("",!0)])):(0,a.Q3)("",!0),"illumination"===t.display?((0,a.uX)(),(0,a.CE)("div",et,[st,(0,a.Lk)("div",tt,(0,n.v_)(l.illumType),1),at,(0,a.Lk)("div",it,(0,n.v_)(t.conditions.illumination.peakWaveLength||"None"),1),t.conditions.illumination.color?((0,a.uX)(),(0,a.CE)(a.FK,{key:0},[nt,(0,a.Lk)("div",ot,(0,n.v_)(t.conditions.illumination.color),1)],64)):(0,a.Q3)("",!0),lt,(0,a.Lk)("div",ct,(0,n.v_)(t.conditions.illumination.distanceToVessel||"None"),1)])):(0,a.Q3)("",!0),"electrochemistry"===t.display?((0,a.uX)(),(0,a.CE)("div",rt,[dt,(0,a.Lk)("div",ut,(0,n.v_)(t.conditions.electrochemistry),1)])):(0,a.Q3)("",!0),"flow"===t.display?((0,a.uX)(),(0,a.CE)("div",vt,[pt,(0,a.Lk)("div",kt,(0,n.v_)(t.conditions.flow),1)])):(0,a.Q3)("",!0),"other"===t.display?((0,a.uX)(),(0,a.CE)("div",mt,[t.conditions.reflux?((0,a.uX)(),(0,a.CE)(a.FK,{key:0},[Lt,(0,a.Lk)("div",yt,(0,n.v_)(t.conditions.reflux),1)],64)):(0,a.Q3)("",!0),t.conditions.ph?((0,a.uX)(),(0,a.CE)(a.FK,{key:1},[Ct,(0,a.Lk)("div",bt,(0,n.v_)(t.conditions.ph),1)],64)):(0,a.Q3)("",!0),t.conditions.conditions_are_dynamic?((0,a.uX)(),(0,a.CE)(a.FK,{key:2},[wt,(0,a.Lk)("div",ht,(0,n.v_)(t.conditions.conditions_are_dynamic),1)],64)):(0,a.Q3)("",!0),t.conditions.details?((0,a.uX)(),(0,a.CE)(a.FK,{key:3},[_t,(0,a.Lk)("div",Et,(0,n.v_)(t.conditions.details),1)],64)):(0,a.Q3)("",!0)])):(0,a.Q3)("",!0)])}var Xt=t(5839),gt={props:{conditions:Object,display:String},computed:{tempType(){return Xt.A.tempType(this.conditions.temperature.control.type)},tempSetPoint(){return Xt.A.tempSetPoint(this.conditions.temperature.setpoint)},pressureType(){return Xt.A.pressureType(this.conditions.pressure.control.type)},pressureSetPoint(){return Xt.A.pressureSetPoint(this.conditions.pressure?.setpoint)},pressureAtmo(){return Xt.A.pressureAtmo(this.conditions.pressure.atmosphere)},stirType(){return Xt.A.stirType(this.conditions.stirring.type)},stirRate(){return Xt.A.stirRate(this.conditions.stirring.rate)},illumType(){return Xt.A.illumType(this.conditions.illumination)}}};const Tt=(0,Be.A)(gt,[["render",ft],["__scopeId","data-v-a52a19f2"]]);var It=Tt;const Ft={class:"notes-view"},At={class:"details"},Qt={class:"label"},Rt={class:"value"};function Kt(e,s,t,i,o,l){return(0,a.uX)(),(0,a.CE)("div",Ft,[(0,a.Lk)("div",At,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(l.notesToDisplay,(e=>((0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.Lk)("div",Qt,(0,n.v_)(e.label),1),(0,a.Lk)("div",Rt,(0,n.v_)(e.val),1)],64)))),256))])])}var Ot={props:{notes:Object},computed:{notesToDisplay(){return Object.keys(this.notes).filter((e=>this.notes[e])).map((e=>({val:this.notes[e],label:this.camelToSpaces(e)})))}},methods:{camelToSpaces(e){return e.replace(/([a-z])([A-Z])/g,"$1 $2").replace("is ","").toLowerCase()}}};const Dt=(0,Be.A)(Ot,[["render",Kt],["__scopeId","data-v-7738d384"]]);var Mt=Dt;const St=e=>((0,a.Qi)("data-v-3d74d96e"),e=e(),(0,a.jt)(),e),xt={class:"notes-view"},jt={class:"details"},Vt=St((()=>(0,a.Lk)("div",{class:"label"},"Time",-1))),Pt=St((()=>(0,a.Lk)("div",{class:"label"},"Comment",-1))),Nt={class:"value"},$t={class:"value"};function Wt(e,s,t,i,o,l){return(0,a.uX)(),(0,a.CE)("div",xt,[(0,a.Lk)("div",jt,[Vt,Pt,((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(t.observations,(e=>((0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.Lk)("div",Nt,(0,n.v_)(l.getTime(e.time)),1),(0,a.Lk)("div",$t,(0,n.v_)(e.comment),1)],64)))),256))])])}var Ut=t(7547),zt={props:{observations:Array},methods:{getTime(e){return Ut.A.formattedTime(e)}}};const Bt=(0,Be.A)(zt,[["render",Wt],["__scopeId","data-v-3d74d96e"]]);var Ht=Bt;const Jt=e=>((0,a.Qi)("data-v-1cc7ad2e"),e=e(),(0,a.jt)(),e),Gt={class:"workups-view"},qt={class:"details"},Yt=Jt((()=>(0,a.Lk)("div",{class:"label"},"Type",-1))),Zt={class:"value"},ea=Jt((()=>(0,a.Lk)("div",{class:"label"},"Details",-1))),sa={class:"value"},ta=Jt((()=>(0,a.Lk)("div",{class:"label"},"Duration",-1))),aa={class:"value"},ia=Jt((()=>(0,a.Lk)("div",{class:"label"},"Aliquot amount",-1))),na={class:"value"},oa=Jt((()=>(0,a.Lk)("div",{class:"label"},"Phase kept",-1))),la={class:"value"},ca=Jt((()=>(0,a.Lk)("div",{class:"label"},"Target pH",-1))),ra={class:"value"},da=Jt((()=>(0,a.Lk)("div",{class:"label"},"Automated",-1))),ua={class:"value"},va={key:0,class:"inputs"},pa=Jt((()=>(0,a.Lk)("div",{class:"title"},"Inputs",-1))),ka={class:"components"},ma={class:"identifier"},La={class:"amount"};function ya(e,s,t,i,o,l){return(0,a.uX)(),(0,a.CE)("div",Gt,[(0,a.Lk)("div",qt,[Yt,(0,a.Lk)("div",Zt,(0,n.v_)(l.workupType),1),t.workup.details?((0,a.uX)(),(0,a.CE)(a.FK,{key:0},[ea,(0,a.Lk)("div",sa,(0,n.v_)(t.workup.details),1)],64)):(0,a.Q3)("",!0),t.workup.duration?((0,a.uX)(),(0,a.CE)(a.FK,{key:1},[ta,(0,a.Lk)("div",aa,(0,n.v_)(t.workup.duration),1)],64)):(0,a.Q3)("",!0),t.workup.amount?((0,a.uX)(),(0,a.CE)(a.FK,{key:2},[ia,(0,a.Lk)("div",na,(0,n.v_)(t.workup.amount),1)],64)):(0,a.Q3)("",!0),t.workup.keepPhase?((0,a.uX)(),(0,a.CE)(a.FK,{key:3},[oa,(0,a.Lk)("div",la,(0,n.v_)(t.workup.keepPhase),1)],64)):(0,a.Q3)("",!0),t.workup.targetPh?((0,a.uX)(),(0,a.CE)(a.FK,{key:4},[ca,(0,a.Lk)("div",ra,(0,n.v_)(t.workup.targetPh),1)],64)):(0,a.Q3)("",!0),t.workup.isAutomated?((0,a.uX)(),(0,a.CE)(a.FK,{key:5},[da,(0,a.Lk)("div",ua,(0,n.v_)(t.workup.Automated),1)],64)):(0,a.Q3)("",!0)]),t.workup.input?((0,a.uX)(),(0,a.CE)("div",va,[pa,(0,a.Lk)("div",ka,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(t.workup.input.componentsList,(e=>((0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.Lk)("div",ma,(0,n.v_)(l.getIdentifier(e.identifiersList)),1),(0,a.Lk)("div",La,(0,n.v_)(l.getAmount(e.amount)),1)],64)))),256))])])):(0,a.Q3)("",!0)])}var Ca={props:{workup:Object},computed:{workupType(){const e=Te().ReactionWorkup.ReactionWorkupType;return Object.keys(e).find((s=>e[s]==this.workup?.type))}},methods:{getIdentifier(e){return e.find((e=>6==e.type)).value},getAmount(e){return Ue(We(e))}}};const ba=(0,Be.A)(Ca,[["render",ya],["__scopeId","data-v-1cc7ad2e"]]);var wa=ba;const ha=e=>((0,a.Qi)("data-v-afc9afaa"),e=e(),(0,a.jt)(),e),_a={class:"outcomes-view"},Ea=ha((()=>(0,a.Lk)("div",{class:"title"},"Details",-1))),fa={class:"details"},Xa=ha((()=>(0,a.Lk)("div",{class:"label"},"Reaction Time",-1))),ga={class:"value"},Ta=ha((()=>(0,a.Lk)("div",{class:"label"},"Conversion",-1))),Ia={class:"value"},Fa=ha((()=>(0,a.Lk)("div",{class:"title"},"Products",-1))),Aa={class:"sub-section"},Qa={class:"tabs"},Ra=["onClick"],Ka={class:"compound"},Oa=ha((()=>(0,a.Lk)("div",{class:"sub-title"},"Measurements",-1))),Da={class:"measurements"},Ma=ha((()=>(0,a.Lk)("div",{class:"label"},"Type",-1))),Sa=ha((()=>(0,a.Lk)("div",{class:"label"},"Value",-1))),xa=ha((()=>(0,a.Lk)("div",{class:"label"},"Analysis",-1))),ja=ha((()=>(0,a.Lk)("div",{class:"label"},"Raw",-1))),Va={class:"value"},Pa={class:"value"},Na={class:"value"},$a={class:"value"},Wa={class:"raw"},Ua=["onClick"],za={class:"data"},Ba=ha((()=>(0,a.Lk)("div",{class:"title"},"Analyses",-1))),Ha={class:"sub-section"},Ja={class:"tabs"},Ga=["onClick"],qa={class:"details"},Ya=ha((()=>(0,a.Lk)("div",{class:"label"},"Type",-1))),Za={class:"value"},ei=ha((()=>(0,a.Lk)("div",{class:"label"},"Details",-1))),si={class:"value"},ti=ha((()=>(0,a.Lk)("div",{class:"label"},"Raw",-1))),ai={class:"value"},ii={class:"raw"},ni={class:"data"};function oi(e,s,t,i,o,l){const c=(0,a.g2)("CompoundView"),r=(0,a.g2)("floating-modal");return(0,a.uX)(),(0,a.CE)("div",_a,[t.outcome.reactionTime||t.outcome.conversion?((0,a.uX)(),(0,a.CE)(a.FK,{key:0},[Ea,(0,a.Lk)("div",fa,[t.outcome.reactionTime?((0,a.uX)(),(0,a.CE)(a.FK,{key:0},[Xa,(0,a.Lk)("div",ga,(0,n.v_)(l.reactionTime),1)],64)):(0,a.Q3)("",!0),t.outcome.conversion?((0,a.uX)(),(0,a.CE)(a.FK,{key:1},[Ta,(0,a.Lk)("div",Ia,(0,n.v_)(t.outcome.conversion.value)+" "+(0,n.v_)(isNaN(t.outcome.conversion.precision)?"":`Â± ${t.outcome.conversion.precision}`),1)],64)):(0,a.Q3)("",!0)])],64)):(0,a.Q3)("",!0),Fa,(0,a.Lk)("div",Aa,[(0,a.Lk)("div",Qa,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(t.outcome.productsList,((e,s)=>((0,a.uX)(),(0,a.CE)("div",{class:(0,n.C4)(["tab",o.productsIdx===s?"selected":""]),onClick:e=>o.productsIdx=s},"Product "+(0,n.v_)(s+1),11,Ra)))),256))]),(0,a.Lk)("div",Ka,[(0,a.bF)(c,{component:t.outcome.productsList[o.productsIdx]},null,8,["component"])]),Oa,(0,a.Lk)("div",Da,[Ma,Sa,xa,ja,((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(t.outcome.productsList[o.productsIdx].measurementsList,(e=>((0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.Lk)("div",Va,(0,n.v_)(l.getMeasurementType(e.type)),1),(0,a.Lk)("div",Pa,(0,n.v_)(l.getMeasurementValue(e)),1),(0,a.Lk)("div",Na,(0,n.v_)(e.analysisKey),1),(0,a.Lk)("div",$a,[(0,a.Lk)("div",Wa,[(0,a.Lk)("div",{class:"button",onClick:s=>l.setRawMeasurement(e)},"<>",8,Ua)])])],64)))),256))]),o.showRawMeasurement?((0,a.uX)(),(0,a.Wv)(r,{key:0,title:"Raw Data",onCloseModal:s[0]||(s[0]=e=>o.showRawMeasurement=!1)},{default:(0,a.k6)((()=>[(0,a.Lk)("div",za,[(0,a.Lk)("pre",null,(0,n.v_)(o.rawMeasurement),1)])])),_:1})):(0,a.Q3)("",!0)]),t.outcome.analysesMap?.length?((0,a.uX)(),(0,a.CE)(a.FK,{key:1},[Ba,(0,a.Lk)("div",Ha,[(0,a.Lk)("div",Ja,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(t.outcome.analysesMap,((e,s)=>((0,a.uX)(),(0,a.CE)("div",{class:(0,n.C4)(["tab",o.analysesIdx===s?"selected":""]),onClick:e=>o.analysesIdx=s},(0,n.v_)(e[0]),11,Ga)))),256))]),(0,a.Lk)("div",qa,[Ya,(0,a.Lk)("div",Za,(0,n.v_)(l.getAnalysisType(t.outcome.analysesMap[o.analysesIdx][1].type)),1),ei,(0,a.Lk)("div",si,(0,n.v_)(t.outcome.analysesMap[o.analysesIdx][1].details),1),ti,(0,a.Lk)("div",ai,[(0,a.Lk)("div",ii,[(0,a.Lk)("div",{class:"button",onClick:s[1]||(s[1]=e=>l.setRawAnalysis(t.outcome.analysesMap[o.analysesIdx][1]))},"<>")])])])]),o.showRawAnalysis?((0,a.uX)(),(0,a.Wv)(r,{key:0,title:"Raw Data",onCloseModal:s[2]||(s[2]=e=>o.showRawAnalysis=!1)},{default:(0,a.k6)((()=>[(0,a.Lk)("div",ni,[(0,a.Lk)("pre",null,(0,n.v_)(o.rawAnalysis),1)])])),_:1})):(0,a.Q3)("",!0)],64)):(0,a.Q3)("",!0)])}var li={props:{outcome:Object},components:{CompoundView:Je,FloatingModal:$e.A},data(){return{productsIdx:0,showRawMeasurement:!1,rawMeasurement:{},analysesIdx:0,showRawAnalysis:!1,rawAnalysis:{}}},computed:{reactionTime(){return Ut.A.formattedTime(this.outcome.reactionTime)}},methods:{getMeasurementType(e){const s=Te().ProductMeasurement.ProductMeasurementType;return Object.keys(s).find((t=>s[t]==e))},getMeasurementValue(e){return e.percentage?Math.round(10*e.percentage.value)/10+"%":e.amount?Ue(We(e.amount)):""},setRawMeasurement(e){const s=JSON.parse(JSON.stringify(e));s.type=this.getMeasurementType(s.type),s.amount&&Object.keys(s.amount).forEach((e=>{s.amount[e]&&(s.amount[e].units=We(s.amount).unitType)})),this.rawMeasurement=s,this.showRawMeasurement=!0},getAnalysisType(e){const s=Te().Analysis.AnalysisType;return Object.keys(s).find((t=>s[t]==e))},setRawAnalysis(e){const s=JSON.parse(JSON.stringify(e));s.type=this.getAnalysisType(s.type),this.rawAnalysis=s,this.showRawAnalysis=!0}}};const ci=(0,Be.A)(li,[["render",oi],["__scopeId","data-v-afc9afaa"]]);var ri=ci;const di=e=>((0,a.Qi)("data-v-c2ed9772"),e=e(),(0,a.jt)(),e),ui={class:"provenance-view"},vi=di((()=>(0,a.Lk)("div",{class:"title"},"Experimenter",-1))),pi={class:"details experimenter"},ki=(0,a.Fv)('<div class="label" data-v-c2ed9772>Username</div><div class="label" data-v-c2ed9772>Name</div><div class="label" data-v-c2ed9772>ORCID</div><div class="label" data-v-c2ed9772>Organization</div><div class="label" data-v-c2ed9772>Email</div>',5),mi={class:"value"},Li={class:"value"},yi={class:"value"},Ci={class:"value"},bi={class:"value"},wi={class:"details"},hi=di((()=>(0,a.Lk)("div",{class:"label"},"City",-1))),_i={class:"value"},Ei=di((()=>(0,a.Lk)("div",{class:"label"},"City",-1))),fi={class:"value"},Xi=di((()=>(0,a.Lk)("div",{class:"label"},"DOI",-1))),gi={class:"value"},Ti=di((()=>(0,a.Lk)("div",{class:"label"},"Patent",-1))),Ii={class:"value"},Fi=di((()=>(0,a.Lk)("div",{class:"label"},"Publication URL",-1))),Ai={class:"value"},Qi=["href"];function Ri(e,s,t,i,o,l){return(0,a.uX)(),(0,a.CE)("div",ui,[t.provenance.experimenter?((0,a.uX)(),(0,a.CE)(a.FK,{key:0},[vi,(0,a.Lk)("div",pi,[ki,(0,a.Lk)("div",mi,(0,n.v_)(t.provenance.experimenter.username),1),(0,a.Lk)("div",Li,(0,n.v_)(t.provenance.experimenter.name),1),(0,a.Lk)("div",yi,(0,n.v_)(t.provenance.experimenter.orcid),1),(0,a.Lk)("div",Ci,(0,n.v_)(t.provenance.experimenter.organization),1),(0,a.Lk)("div",bi,(0,n.v_)(t.provenance.experimenter.email),1)])],64)):(0,a.Q3)("",!0),(0,a.Lk)("div",wi,[t.provenance.city?((0,a.uX)(),(0,a.CE)(a.FK,{key:0},[hi,(0,a.Lk)("div",_i,(0,n.v_)(t.provenance.city),1)],64)):(0,a.Q3)("",!0),t.provenance.experimentStart?((0,a.uX)(),(0,a.CE)(a.FK,{key:1},[Ei,(0,a.Lk)("div",fi,(0,n.v_)(new Date(t.provenance.experimentStart).toLocaleDateString()),1)],64)):(0,a.Q3)("",!0),t.provenance.doi?((0,a.uX)(),(0,a.CE)(a.FK,{key:2},[Xi,(0,a.Lk)("div",gi,(0,n.v_)(t.provenance.doi),1)],64)):(0,a.Q3)("",!0),t.provenance.patent?((0,a.uX)(),(0,a.CE)(a.FK,{key:3},[Ti,(0,a.Lk)("div",Ii,(0,n.v_)(t.provenance.patent),1)],64)):(0,a.Q3)("",!0),t.provenance.publicationUrl?((0,a.uX)(),(0,a.CE)(a.FK,{key:4},[Fi,(0,a.Lk)("div",Ai,[(0,a.Lk)("a",{href:t.provenance.publicationUrl,target:"_blank"},(0,n.v_)(t.provenance.publicationUrl),9,Qi)])],64)):(0,a.Q3)("",!0)])])}var Ki={props:{provenance:Object}};const Oi=(0,Be.A)(Ki,[["render",Ri],["__scopeId","data-v-c2ed9772"]]);var Di=Oi;const Mi=e=>((0,a.Qi)("data-v-0ec43e5e"),e=e(),(0,a.jt)(),e),Si={class:"events-view"},xi={class:"tabs"},ji=["onClick"],Vi={class:"details"},Pi=Mi((()=>(0,a.Lk)("div",{class:"label"},"Details",-1))),Ni={class:"value"},$i=Mi((()=>(0,a.Lk)("div",{class:"label"},"Username",-1))),Wi={class:"value"},Ui=Mi((()=>(0,a.Lk)("div",{class:"label"},"Name",-1))),zi={class:"value"},Bi=Mi((()=>(0,a.Lk)("div",{class:"label"},"ORCID",-1))),Hi={class:"value"},Ji=Mi((()=>(0,a.Lk)("div",{class:"label"},"Organization",-1))),Gi={class:"value"},qi=Mi((()=>(0,a.Lk)("div",{class:"label"},"Email",-1))),Yi={class:"value"};function Zi(e,s,t,i,o,l){return(0,a.uX)(),(0,a.CE)("div",Si,[(0,a.Lk)("div",xi,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(t.events,((e,s)=>((0,a.uX)(),(0,a.CE)("div",{class:(0,n.C4)(["tab",o.eventIdx===s?"selected":""]),onClick:e=>o.eventIdx=s},(0,n.v_)(new Date(e.time.value).toLocaleString()),11,ji)))),256))]),(0,a.Lk)("div",Vi,[t.events[o.eventIdx].details?((0,a.uX)(),(0,a.CE)(a.FK,{key:0},[Pi,(0,a.Lk)("div",Ni,(0,n.v_)(t.events[o.eventIdx].details),1)],64)):(0,a.Q3)("",!0),t.events[o.eventIdx].person?.username?((0,a.uX)(),(0,a.CE)(a.FK,{key:1},[$i,(0,a.Lk)("div",Wi,(0,n.v_)(t.events[o.eventIdx].person.username),1)],64)):(0,a.Q3)("",!0),t.events[o.eventIdx].person?.name?((0,a.uX)(),(0,a.CE)(a.FK,{key:2},[Ui,(0,a.Lk)("div",zi,(0,n.v_)(t.events[o.eventIdx].person.name),1)],64)):(0,a.Q3)("",!0),t.events[o.eventIdx].person?.orcid?((0,a.uX)(),(0,a.CE)(a.FK,{key:3},[Bi,(0,a.Lk)("div",Hi,(0,n.v_)(t.events[o.eventIdx].person.orcid),1)],64)):(0,a.Q3)("",!0),t.events[o.eventIdx].person?.organization?((0,a.uX)(),(0,a.CE)(a.FK,{key:4},[Ji,(0,a.Lk)("div",Gi,(0,n.v_)(t.events[o.eventIdx].person.organization),1)],64)):(0,a.Q3)("",!0),t.events[o.eventIdx].person?.email?((0,a.uX)(),(0,a.CE)(a.FK,{key:5},[qi,(0,a.Lk)("div",Yi,(0,n.v_)(t.events[o.eventIdx].person.email),1)],64)):(0,a.Q3)("",!0)])])}var en={props:{events:Array},data(){return{eventIdx:0}}};const sn=(0,Be.A)(en,[["render",Zi],["__scopeId","data-v-0ec43e5e"]]);var tn=sn,an=t(8212),nn=t(7753),on={components:{CompoundView:Je,SetupView:_s,ConditionsView:It,NotesView:Mt,ObservationsView:Ht,WorkupsView:wa,OutcomesView:ri,ProvenanceView:Di,EventsView:tn,FloatingModal:$e.A,LoadingSpinner:an.A},data(){return{reaction:{},reactionSummary:null,reactionBytes:null,loading:!0,inputsIdx:0,setupTabs:["vessel","environment","automation"],setupTab:"vessel",conditionTabs:["temperature","pressure","stirring","illumination","electrochemistry","flow","other"],conditionTab:"temperature",workupsTab:0,outcomesTab:0,showRawReaction:!1,navItems:[],activeNav:"summary"}},computed:{reactionId(){return this.$route.params.reactionId},displayDetails(){if(!this.reaction)return{};let e={...this.reaction.inputsMap[this.inputsIdx][1]},s=Object.fromEntries(Object.entries(e).filter((([e,s])=>null!=s&&!Array.isArray(s))));if(s.additionDevice){const e=Te().ReactionInput.AdditionDevice.AdditionDeviceType,t=Object.keys(e).find((t=>e[t]==s.additionDevice.type));s.additionDevice=t.toLowerCase()}if(s.additionSpeed){const e=Te().ReactionInput.AdditionSpeed.AdditionSpeedType,t=Object.keys(e).find((t=>e[t]==s.additionSpeed.type));s.additionSpeed=t.toLowerCase()}return s.additionDuration&&(s.additionDuration=Ut.A.formattedTime(s.additionDuration)),s},displayConditionsOther(){const e=["reflux","ph","conditions_are_dynamic","details"];return e.find((e=>this.reaction.conditions[e]))},events(){const e=[];return this.reaction?.provenance?.recordCreated?(e.push(this.reaction.provenance.recordCreated),e[0].details="(record created)",e.push(...this.reaction.provenance.recordModifiedList),e.sort(((e,s)=>{const t=new Date(e.time.value),a=new Date(s.time.value);return t-a})),e):e},positions(){return this.navItems.length?this.navItems.filter((e=>document.getElementById(e))).map((e=>{const s=document.getElementById(e),t=s.getBoundingClientRect();return{id:e,top:t.top+window.pageYOffset,bottom:t.bottom+window.pageYOffset}})):null}},methods:{getReactionData(){return new Promise((e=>{const s=new XMLHttpRequest;s.open("POST","/api/fetch_reactions"),s.setRequestHeader("Content-Type","application/json"),s.onload=()=>{let t=null;if(null!==s.response){const e=JSON.parse(s.response)[0].proto,a=(0,nn.A)(e);t=Te().Reaction.deserializeBinary(a).toObject(),t.inputsMap.sort(((e,s)=>e[1].additionOrder-s[1].additionOrder))}e(t)},s.send(JSON.stringify([this.reactionId]))}))},async getReactionSummary(){const e=await fetch(`/api/render/${this.reactionId}?compact=false`),s=await e.json();return s},getReactionType(e){const s=Te().ReactionIdentifier.ReactionIdentifierType;return Object.keys(s).find((t=>s[t]==e))},getWorkupLabel(e){const s=Te().ReactionWorkup.ReactionWorkupType;return Object.keys(s).find((t=>s[t]==e)).toLowerCase().replaceAll("_"," ")},setNavItems(){let e=["summary","identifiers","inputs"];const s=["setup","conditions","notes","observations","workups"];s.forEach((s=>{(this.reaction[s]||this.reaction[`${s}List`]?.length)&&e.push(s)}));const t=["outcomes","provenance","full-record"];return e.push(...t),e},scrollTo(e){document.getElementById(e).scrollIntoView({behavior:"smooth"})},onScroll(){const e=this.positions.find((e=>e.top<=window.pageYOffset&&e.bottom>window.pageYOffset));e&&(this.activeNav=e.id)}},async mounted(){this.reaction=await this.getReactionData(),this.reactionSummary=await this.getReactionSummary(),this.navItems=this.setNavItems(),this.loading=!1,window.addEventListener("scroll",this.onScroll)},beforeUnmount(){window.removeEventListener("scroll",this.onScroll)}};const ln=(0,Be.A)(on,[["render",Xe],["__scopeId","data-v-160d3227"]]);var cn=ln}}]);
//# sourceMappingURL=929.d41847fa.js.map