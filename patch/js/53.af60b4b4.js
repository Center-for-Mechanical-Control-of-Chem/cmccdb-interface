"use strict";(self["webpackChunkapp"]=self["webpackChunkapp"]||[]).push([[53],{3784:function(e,s,t){t.r(s),t.d(s,{default:function(){return _a}});var a=t(6768),i=t(5130),n=t(4232);const o={class:"main-reaction-view"},l={key:0,class:"loading"},c={key:0,class:"error-message"},r={key:1,class:"reaction-transition"},d={class:"nav-holder"},u={class:"nav"},v=["onClick"],p={class:"content"},k={class:"section",id:"summary"},m={key:0,class:"summary"},y=["innerHTML"],L={key:0,id:"identifiers"},b={class:"section"},C={class:"identifiers"},w={class:"value"},h={class:"value"},_={class:"value"},f={key:1,id:"inputs"},E={class:"section"},X={class:"tabs"},g=["onClick"],T={class:"input"},I={class:"details"},F={class:"label"},A={class:"value"},R={class:"compound"},Q={key:2,id:"setup"},O={class:"section"},K={class:"tabs"},D=["onClick"],S={class:"details"},M={key:3,id:"conditions"},x={class:"section"},V={class:"tabs"},P=["onClick"],j={class:"details"},N={key:4,id:"notes"},$={class:"section"},W={class:"details"},U={key:5,id:"observations"},z={class:"section"},B={class:"details"},H={key:6,id:"workups"},G={class:"section"},J={class:"tabs"},q=["onClick"],Y={class:"details"},Z={key:7,id:"outcomes"},ee={class:"section"},se={class:"tabs"},te=["onClick"],ae={class:"details"},ie={key:8,id:"provenance"},ne={class:"section"},oe={key:9,id:"events"},le={class:"section"},ce={key:10,id:"full-record"},re={class:"section"},de={class:"data"};function ue(e,s,t,ue,ve,pe){const ke=(0,a.g2)("LoadingSpinner"),me=(0,a.g2)("CompoundView"),ye=(0,a.g2)("SetupView"),Le=(0,a.g2)("ConditionsView"),be=(0,a.g2)("NotesView"),Ce=(0,a.g2)("ObservationsView"),we=(0,a.g2)("WorkupsView"),he=(0,a.g2)("OutcomesView"),_e=(0,a.g2)("ProvenanceView"),fe=(0,a.g2)("EventsView"),Ee=(0,a.g2)("FloatingModal");return(0,a.uX)(),(0,a.CE)("div",o,[(0,a.bF)(i.eB,{name:"fade"},{default:(0,a.k6)((()=>[ve.loading?((0,a.uX)(),(0,a.CE)("div",l,[(0,a.bF)(ke)])):(0,a.Q3)("",!0)])),_:1}),(0,a.bF)(i.eB,{name:"fade"},{default:(0,a.k6)((()=>[ve.traceback?((0,a.uX)(),(0,a.CE)("div",c,[(0,a.Lk)("code",null,[(0,a.Lk)("pre",null,(0,n.v_)(ve.traceback),1)])])):ve.loading?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("div",r,[(0,a.Lk)("div",d,[(0,a.Lk)("div",u,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(ve.navItems,(e=>((0,a.uX)(),(0,a.CE)("div",{class:(0,n.C4)(["nav-item",ve.activeNav==e?"active":""]),onClick:s=>pe.scrollTo(e)},(0,n.v_)(e.replaceAll("-"," ")),11,v)))),256))])]),(0,a.Lk)("div",p,[s[15]||(s[15]=(0,a.Lk)("div",{class:"title"},"Summary",-1)),(0,a.Lk)("div",k,[ve.reactionSummary?((0,a.uX)(),(0,a.CE)("div",m,[(0,a.Lk)("div",{class:"display",innerHTML:ve.reactionSummary},null,8,y)])):(0,a.Q3)("",!0)]),ve.reaction?.identifiersList?.length?((0,a.uX)(),(0,a.CE)("div",L,[s[2]||(s[2]=(0,a.Lk)("div",{class:"title"},"Identifiers",-1)),(0,a.Lk)("div",b,[(0,a.Lk)("div",C,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(ve.reaction.identifiersList,(e=>((0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.Lk)("div",w,(0,n.v_)(pe.getReactionType(e.type)),1),(0,a.Lk)("div",h,(0,n.v_)(e.value),1),(0,a.Lk)("div",_,(0,n.v_)(e.details),1)],64)))),256))])])])):(0,a.Q3)("",!0),ve.reaction?.inputsMap?.length?((0,a.uX)(),(0,a.CE)("div",f,[s[5]||(s[5]=(0,a.Lk)("div",{class:"title"},"Inputs",-1)),(0,a.Lk)("div",E,[(0,a.Lk)("div",X,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(ve.reaction.inputsMap,((e,s)=>((0,a.uX)(),(0,a.CE)("div",{class:(0,n.C4)(["tab",ve.inputsIdx==s?"selected":""]),onClick:e=>ve.inputsIdx=s},(0,n.v_)(e[0]),11,g)))),256))]),(0,a.Lk)("div",T,[s[3]||(s[3]=(0,a.Lk)("div",{class:"title"},"Details",-1)),(0,a.Lk)("div",I,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(Object.keys(pe.displayDetails),(e=>((0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.Lk)("div",F,(0,n.v_)(e.replaceAll(/(?=[A-Z])/g," ")),1),(0,a.Lk)("div",A,(0,n.v_)(pe.displayDetails[e]),1)],64)))),256))]),s[4]||(s[4]=(0,a.Lk)("div",{class:"title"},"Components",-1)),(0,a.Lk)("div",R,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(ve.reaction.inputsMap[ve.inputsIdx][1].componentsList,(e=>((0,a.uX)(),(0,a.Wv)(me,{component:e},null,8,["component"])))),256))])])])])):(0,a.Q3)("",!0),ve.reaction?.setup?((0,a.uX)(),(0,a.CE)("div",Q,[s[6]||(s[6]=(0,a.Lk)("div",{class:"title"},"Setup",-1)),(0,a.Lk)("div",O,[(0,a.Lk)("div",K,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(ve.setupTabs,(e=>((0,a.uX)(),(0,a.CE)(a.FK,null,["automation"!==e||ve.reaction.setup.is_automated?((0,a.uX)(),(0,a.CE)("div",{key:0,class:(0,n.C4)(["tab capitalize",ve.setupTab===e?"selected":""]),onClick:s=>ve.setupTab=e},(0,n.v_)(e),11,D)):(0,a.Q3)("",!0)],64)))),256))]),(0,a.Lk)("div",S,[(0,a.bF)(ye,{setup:ve.reaction.setup,display:ve.setupTab},null,8,["setup","display"])])])])):(0,a.Q3)("",!0),ve.reaction?.conditions?((0,a.uX)(),(0,a.CE)("div",M,[s[7]||(s[7]=(0,a.Lk)("div",{class:"title"},"Conditions",-1)),(0,a.Lk)("div",x,[(0,a.Lk)("div",V,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(ve.conditionTabs,(e=>((0,a.uX)(),(0,a.CE)(a.FK,null,[ve.reaction.conditions[e]||"other"===e&&pe.displayConditionsOther?((0,a.uX)(),(0,a.CE)("div",{key:0,class:(0,n.C4)(["tab capitalize",ve.conditionTab===e?"selected":""]),onClick:s=>ve.conditionTab=e},(0,n.v_)(e),11,P)):(0,a.Q3)("",!0)],64)))),256))]),(0,a.Lk)("div",j,[(0,a.bF)(Le,{conditions:ve.reaction.conditions,display:ve.conditionTab},null,8,["conditions","display"])])])])):(0,a.Q3)("",!0),ve.reaction.notes?((0,a.uX)(),(0,a.CE)("div",N,[s[8]||(s[8]=(0,a.Lk)("div",{class:"title"},"Notes",-1)),(0,a.Lk)("div",$,[(0,a.Lk)("div",W,[(0,a.bF)(be,{notes:ve.reaction.notes},null,8,["notes"])])])])):(0,a.Q3)("",!0),ve.reaction.observationsList?.length?((0,a.uX)(),(0,a.CE)("div",U,[s[9]||(s[9]=(0,a.Lk)("div",{class:"title"},"Observations",-1)),(0,a.Lk)("div",z,[(0,a.Lk)("div",B,[(0,a.bF)(Ce,{observations:ve.reaction.observationsList},null,8,["observations"])])])])):(0,a.Q3)("",!0),ve.reaction.workupsList?.length?((0,a.uX)(),(0,a.CE)("div",H,[s[10]||(s[10]=(0,a.Lk)("div",{class:"title"},"Workups",-1)),(0,a.Lk)("div",G,[(0,a.Lk)("div",J,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(ve.reaction.workupsList,((e,s)=>((0,a.uX)(),(0,a.CE)("div",{class:(0,n.C4)(["tab capitalize",ve.workupsTab===s?"selected":""]),onClick:e=>ve.workupsTab=s},(0,n.v_)(pe.getWorkupLabel(e.type)),11,q)))),256))]),(0,a.Lk)("div",Y,[(0,a.bF)(we,{workup:ve.reaction.workupsList[ve.workupsTab]},null,8,["workup"])])])])):(0,a.Q3)("",!0),ve.reaction.outcomesList?.length?((0,a.uX)(),(0,a.CE)("div",Z,[s[11]||(s[11]=(0,a.Lk)("div",{class:"title"},"Outcomes",-1)),(0,a.Lk)("div",ee,[(0,a.Lk)("div",se,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(ve.reaction.outcomesList,((e,s)=>((0,a.uX)(),(0,a.CE)("div",{class:(0,n.C4)(["tab capitalize",ve.outcomesTab===s?"selected":""]),onClick:e=>ve.outcomesTab=s},"Outcome "+(0,n.v_)(s+1),11,te)))),256))]),(0,a.Lk)("div",ae,[(0,a.bF)(he,{outcome:ve.reaction.outcomesList[ve.outcomesTab]},null,8,["outcome"])])])])):(0,a.Q3)("",!0),ve.reaction.provenance?((0,a.uX)(),(0,a.CE)("div",ie,[s[12]||(s[12]=(0,a.Lk)("div",{class:"title"},"Provenance",-1)),(0,a.Lk)("div",ne,[(0,a.bF)(_e,{provenance:ve.reaction.provenance},null,8,["provenance"])])])):(0,a.Q3)("",!0),pe.events?.length?((0,a.uX)(),(0,a.CE)("div",oe,[s[13]||(s[13]=(0,a.Lk)("div",{class:"title"},"Record Events",-1)),(0,a.Lk)("div",le,[(0,a.bF)(fe,{events:pe.events},null,8,["events"])])])):(0,a.Q3)("",!0),ve.reaction?((0,a.uX)(),(0,a.CE)("div",ce,[s[14]||(s[14]=(0,a.Lk)("div",{class:"title"},"Full Record",-1)),(0,a.Lk)("div",re,[(0,a.Lk)("div",{class:"full-record button",onClick:s[0]||(s[0]=e=>ve.showRawReaction=!0)},"View Full Record")]),ve.showRawReaction?((0,a.uX)(),(0,a.Wv)(Ee,{key:0,title:"Raw Data",onCloseModal:s[1]||(s[1]=e=>ve.showRawReaction=!1)},{default:(0,a.k6)((()=>[(0,a.Lk)("div",de,[(0,a.Lk)("pre",null,(0,n.v_)(ve.reaction),1)])])),_:1})):(0,a.Q3)("",!0)])):(0,a.Q3)("",!0)])]))])),_:1})])}t(4114);var ve=t(9518),pe=t.n(ve);const ke={key:0,class:"label"},me=["innerHTML"],ye={key:1,class:"amount"},Le={class:"role"},be={class:"raw"},Ce={class:"data"},we={key:0},he={key:1},_e={key:2},fe={key:3};function Ee(e,s,t,i,o,l){const c=(0,a.g2)("floating-modal");return(0,a.uX)(),(0,a.CE)("div",{class:"compound-view",style:(0,n.Tr)({gridTemplateColumns:l.gridColumns})},[s[2]||(s[2]=(0,a.Lk)("div",{class:"label"},"Compound",-1)),t.component.amount?((0,a.uX)(),(0,a.CE)("div",ke,"Amount")):(0,a.Q3)("",!0),s[3]||(s[3]=(0,a.Lk)("div",{class:"label"},"Role",-1)),s[4]||(s[4]=(0,a.Lk)("div",{class:"label"},"Raw",-1)),(0,a.Lk)("div",{class:"svg",innerHTML:o.compoundSVG},null,8,me),t.component.amount?((0,a.uX)(),(0,a.CE)("div",ye,(0,n.v_)(l.compoundAmount),1)):(0,a.Q3)("",!0),(0,a.Lk)("div",Le,(0,n.v_)(l.compoundRole.toLowerCase()),1),(0,a.Lk)("div",be,[(0,a.Lk)("div",{class:"button",onClick:s[0]||(s[0]=e=>o.showRawData=!0)},"<> ")]),o.showRawData?((0,a.uX)(),(0,a.Wv)(c,{key:2,title:"Raw Data",onCloseModal:s[1]||(s[1]=e=>o.showRawData=!1)},{default:(0,a.k6)((()=>[(0,a.Lk)("div",Ce,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(l.rawData.identifiers,(e=>((0,a.uX)(),(0,a.CE)("pre",null,"identifiers: "+(0,n.v_)(e),1)))),256)),l.rawData.amount?((0,a.uX)(),(0,a.CE)("pre",we,"amount: "+(0,n.v_)(l.rawData.amount),1)):(0,a.Q3)("",!0),(0,a.Lk)("pre",null,"reaction_role: "+(0,n.v_)(l.rawData.reaction_role),1),l.rawData.is_desired_product?((0,a.uX)(),(0,a.CE)("pre",he,"is_desired_product: "+(0,n.v_)(l.rawData.is_desired_product),1)):(0,a.Q3)("",!0),l.rawData.isolated_color?((0,a.uX)(),(0,a.CE)("pre",_e,"isolated_color: "+(0,n.v_)(l.rawData.isolated_color),1)):(0,a.Q3)("",!0),l.rawData.texture?((0,a.uX)(),(0,a.CE)("pre",fe,"texture: "+(0,n.v_)(l.rawData.texture),1)):(0,a.Q3)("",!0),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(l.rawData.preparations,(e=>((0,a.uX)(),(0,a.CE)("pre",null,"preparations: "+(0,n.v_)(e),1)))),256))])])),_:1})):(0,a.Q3)("",!0)],4)}var Xe=t(2272);const ge=e=>{if(!e)return{};let s={},t="";if(e.moles)s=pe().Moles.MolesUnit,t="moles";else if(e.volume)s=pe().Volume.VolumeUnit,t="volume";else if(e.mass)s=pe().Mass.MassUnit,t="mass";else if(e.unmeasured)return{unitAmount:"",unitCategory:"unmeasured"};const a=e[t].units,i=e[t].value;e[t].precision;return{unitAmount:i,unitType:Object.keys(s).find((e=>s[e]==a)),unitCategory:t}},Te=e=>e.unitAmount&&e.unitType?`${Math.round(1e3*e.unitAmount)/1e3} ${e.unitType.toLowerCase()}`:"";var Ie={props:{component:Object},components:{"floating-modal":Xe.A},watch:{component:{handler(e){this.getCompoundSVG(e)},deep:!0,immediate:!0}},data(){return{compoundSVG:null,showRawData:!1}},computed:{compoundAmountObj(){return ge(this.component.amount)},compoundAmount(){return Te(this.compoundAmountObj)},compoundRole(){const e=this.component.reactionRole,s=pe().ReactionRole.ReactionRoleType;return Object.keys(s).find((t=>s[t]==e))},rawData(){const e={},s=pe().CompoundIdentifier.CompoundIdentifierType;if(e["identifiers"]=this.component?.identifiersList?.map((e=>({type:Object.keys(s).find((t=>s[t]==e.type)),value:e.value}))),this.component?.amount&&(e["amount"]={[this.compoundAmountObj.unitCategory]:{value:this.compoundAmountObj.unitAmount,units:this.compoundAmountObj.unitType}}),this.component?.preparationsList?.length){const s=pe().CompoundPreparation.CompoundPreparationType;e["preparations"]=this.component.preparationsList.map((e=>({type:Object.keys(s).find((t=>s[t]==e.type)),details:e.details})))}if(this.component?.isDesiredProduct&&(e["is_desired_product"]=this.component.isDesiredProduct),this.component?.isolatedColor&&(e["isolated_color"]=this.component.isolatedColor),this.component?.texture){const s=pe().ProductCompound.Texture.TextureType,t=Object.keys(s).find((e=>s[e]==this.component.texture.type)),a={type:t};this.component.texture.details&&(a.details=this.component.texture.details),e["texture"]=a}return e["reaction_role"]=this.compoundRole,e},gridColumns(){return`1fr repeat(${this.component?.amount?3:2}, auto)`}},methods:{getCompoundSVG(e){const s=e.identifiersList;let t=s.find((e=>2==e.type));if("undefined"!==typeof t){t=t.value;const e=new(pe().Compound),s=e.addIdentifiers();return s.setValue(t),s.setType(pe().CompoundIdentifier.CompoundIdentifierType.SMILES),new Promise((s=>{const t=new XMLHttpRequest;t.open("POST","/api/render/compound/svg");const a=e.serializeBinary();t.responseType="json",t.onload=function(){s(t.response)},t.send(a)})).then((e=>{this.compoundSVG=e}))}{let e=s.find((e=>6==e.type));if("undefined"!==typeof e)this.compoundSVG=e.value;else{let t=s.find((e=>e.type>-1));"undefined"!==typeof t&&(this.compoundSVG=e.value)}}}}},Fe=t(1241);const Ae=(0,Fe.A)(Ie,[["render",Ee],["__scopeId","data-v-3aa3a736"]]);var Re=Ae;const Qe={class:"setup-view"},Oe={key:0,class:"vessel details"},Ke={class:"value"},De={class:"value"},Se={class:"value"},Me={class:"value"},xe={class:"value"},Ve={class:"value"},Pe={key:1,class:"environment details"},je={class:"value"},Ne={class:"value"},$e={key:2,class:"automated details"},We={class:"value"};function Ue(e,s,t,i,o,l){return(0,a.uX)(),(0,a.CE)("div",Qe,["vessel"==t.display?((0,a.uX)(),(0,a.CE)("div",Oe,[s[3]||(s[3]=(0,a.Lk)("div",{class:"label"},"Type",-1)),(0,a.Lk)("div",Ke,(0,n.v_)(l.vesselType),1),l.vessel.details?((0,a.uX)(),(0,a.CE)(a.FK,{key:0},[s[0]||(s[0]=(0,a.Lk)("div",{class:"label"},"Details",-1)),(0,a.Lk)("div",De,(0,n.v_)(l.vessel.details),1)],64)):(0,a.Q3)("",!0),s[4]||(s[4]=(0,a.Lk)("div",{class:"label"},"Material",-1)),(0,a.Lk)("div",Se,(0,n.v_)(l.vesselMaterial||"UNSPECIFIED"),1),s[5]||(s[5]=(0,a.Lk)("div",{class:"label"},"Volume",-1)),(0,a.Lk)("div",Me,(0,n.v_)(l.vesselVolume),1),l.vessel.attachmentsList?.length?((0,a.uX)(),(0,a.CE)(a.FK,{key:1},[s[1]||(s[1]=(0,a.Lk)("div",{class:"label"},"Attachments",-1)),(0,a.Lk)("div",xe,(0,n.v_)(l.vesselAttachments),1)],64)):(0,a.Q3)("",!0),l.vessel.preparationsList?.length?((0,a.uX)(),(0,a.CE)(a.FK,{key:2},[s[2]||(s[2]=(0,a.Lk)("div",{class:"label"},"Preparations",-1)),(0,a.Lk)("div",Ve,(0,n.v_)(l.vesselPrep),1)],64)):(0,a.Q3)("",!0)])):(0,a.Q3)("",!0),"environment"==t.display?((0,a.uX)(),(0,a.CE)("div",Pe,[s[7]||(s[7]=(0,a.Lk)("div",{class:"label"},"Type",-1)),(0,a.Lk)("div",je,(0,n.v_)(l.reactionEnv||"UNSPECIFIED"),1),t.setup.environment?.details?((0,a.uX)(),(0,a.CE)(a.FK,{key:0},[s[6]||(s[6]=(0,a.Lk)("div",{class:"label"},"Details",-1)),(0,a.Lk)("div",Ne,(0,n.v_)(t.setup.environment.details),1)],64)):(0,a.Q3)("",!0)])):(0,a.Q3)("",!0),"automated"==t.display?((0,a.uX)(),(0,a.CE)("div",$e,[s[8]||(s[8]=(0,a.Lk)("div",{class:"label"},"Platform",-1)),(0,a.Lk)("div",We,(0,n.v_)(t.setup.automation_platform||"UNSPECIFIED"),1)])):(0,a.Q3)("",!0)])}var ze={props:{setup:Object,display:String},computed:{vessel(){return this.setup.vessel},vesselType(){const e=pe().Vessel.VesselType;return Object.keys(e).find((s=>e[s]==this.vessel.type))},vesselVolume(){const e=pe().Volume.VolumeUnit,s=Object.keys(e).find((s=>e[s]==this.vessel.volume.units));return`${this.vessel.volume.value} ${s.toLowerCase()}`},vesselAttachments(){const e=pe().VesselAttachment.VesselAttachmentType;return this.vessel.attachmentsList.map((s=>{const t=Object.keys(e).find((t=>e[t]==s.type));return`${t}${s.details?`: ${s.details}`:""}`})).join(", ")},vesselPrep(){const e=pe().VesselPreparation.VesselPreparationType;return this.vessel.preparationsList.map((s=>{const t=Object.keys(e).find((t=>e[t]==s.type));return`${t}${s.details?`: ${s.details}`:""}`})).join(", ")},vesselMaterial(){const e=pe().VesselMaterial.VesselMaterialType;return Object.keys(e).find((s=>e[s]==this.vessel.material?.type))},reactionEnv(){const e=this.setup.environment?.type;if(!e)return null;const s=pe().ReactionSetup.ReactionEnvironment.ReactionEnvironmentType;return Object.keys(s).find((t=>s[t]==e))}},mounted(){console.log("pb",pe()),console.log("props",this.setup)}};const Be=(0,Fe.A)(ze,[["render",Ue],["__scopeId","data-v-7759f300"]]);var He=Be;const Ge={class:"conditions-view"},Je={key:0,class:"temperature details"},qe={class:"value"},Ye={class:"value"},Ze={class:"value"},es={class:"value"},ss={key:1,class:"pressure details"},ts={class:"value"},as={class:"value"},is={class:"value"},ns={class:"value"},os={class:"value"},ls={key:2,class:"stirring details"},cs={class:"value"},rs={class:"value"},ds={class:"value"},us={class:"value"},vs={key:3,class:"illumination details"},ps={class:"value"},ks={class:"value"},ms={class:"value"},ys={class:"value"},Ls={key:4,class:"electro details"},bs={class:"value"},Cs={key:5,class:"electro details"},ws={class:"value"},hs={key:6,class:"other details"},_s={class:"value"},fs={class:"value"},Es={class:"value"},Xs={class:"value"};function gs(e,s,t,i,o,l){return(0,a.uX)(),(0,a.CE)("div",Ge,["temperature"===t.display?((0,a.uX)(),(0,a.CE)("div",Je,[s[2]||(s[2]=(0,a.Lk)("div",{class:"label"},"Control Type",-1)),(0,a.Lk)("div",qe,(0,n.v_)(l.tempType),1),t.conditions.temperature?.control.details?((0,a.uX)(),(0,a.CE)(a.FK,{key:0},[s[0]||(s[0]=(0,a.Lk)("div",{class:"label"},"Details",-1)),(0,a.Lk)("div",Ye,(0,n.v_)(t.conditions.temperature?.control.details),1)],64)):(0,a.Q3)("",!0),s[3]||(s[3]=(0,a.Lk)("div",{class:"label"},"Setpoint",-1)),(0,a.Lk)("div",Ze,(0,n.v_)(l.tempSetPoint),1),t.conditions.temperature?.measurementsList?.length?((0,a.uX)(),(0,a.CE)(a.FK,{key:1},[s[1]||(s[1]=(0,a.Lk)("div",{class:"label"},"Measurements",-1)),(0,a.Lk)("div",es,(0,n.v_)(t.conditions.temperature.measurementsList),1)],64)):(0,a.Q3)("",!0)])):(0,a.Q3)("",!0),"pressure"===t.display?((0,a.uX)(),(0,a.CE)("div",ss,[s[6]||(s[6]=(0,a.Lk)("div",{class:"label"},"Control Type",-1)),(0,a.Lk)("div",ts,(0,n.v_)(l.pressureType),1),t.conditions.pressure?.control.details?((0,a.uX)(),(0,a.CE)(a.FK,{key:0},[s[4]||(s[4]=(0,a.Lk)("div",{class:"label"},"Details",-1)),(0,a.Lk)("div",as,(0,n.v_)(t.conditions.pressure?.control.details),1)],64)):(0,a.Q3)("",!0),s[7]||(s[7]=(0,a.Lk)("div",{class:"label"},"Setpoint",-1)),(0,a.Lk)("div",is,(0,n.v_)(l.pressureSetPoint),1),s[8]||(s[8]=(0,a.Lk)("div",{class:"label"},"Atmosphere",-1)),(0,a.Lk)("div",ns,(0,n.v_)(l.pressureAtmo),1),t.conditions.pressure.measurementsList?.length?((0,a.uX)(),(0,a.CE)(a.FK,{key:1},[s[5]||(s[5]=(0,a.Lk)("div",{class:"label"},"Measurements",-1)),(0,a.Lk)("div",os,(0,n.v_)(t.conditions.pressure.measurementsList),1)],64)):(0,a.Q3)("",!0)])):(0,a.Q3)("",!0),"stirring"===t.display?((0,a.uX)(),(0,a.CE)("div",ls,[s[11]||(s[11]=(0,a.Lk)("div",{class:"label"},"Type",-1)),(0,a.Lk)("div",cs,(0,n.v_)(l.stirType),1),t.conditions.stirring?.details?((0,a.uX)(),(0,a.CE)(a.FK,{key:0},[s[9]||(s[9]=(0,a.Lk)("div",{class:"label"},"Details",-1)),(0,a.Lk)("div",rs,(0,n.v_)(t.conditions.stirring?.details),1)],64)):(0,a.Q3)("",!0),s[12]||(s[12]=(0,a.Lk)("div",{class:"label"},"Rate",-1)),(0,a.Lk)("div",ds,(0,n.v_)(l.stirRate||"UNSPECIFIED"),1),t.conditions.stirring?.rate?.rpm?((0,a.uX)(),(0,a.CE)(a.FK,{key:1},[s[10]||(s[10]=(0,a.Lk)("div",{class:"label"},"RPM",-1)),(0,a.Lk)("div",us,(0,n.v_)(t.conditions.stirring?.rate?.rpm),1)],64)):(0,a.Q3)("",!0)])):(0,a.Q3)("",!0),"illumination"===t.display?((0,a.uX)(),(0,a.CE)("div",vs,[s[14]||(s[14]=(0,a.Lk)("div",{class:"label"},"Type",-1)),(0,a.Lk)("div",ps,(0,n.v_)(l.illumType),1),s[15]||(s[15]=(0,a.Lk)("div",{class:"label"},"Peak Wavelength",-1)),(0,a.Lk)("div",ks,(0,n.v_)(t.conditions.illumination?.peakWaveLength||"None"),1),t.conditions.illumination?.color?((0,a.uX)(),(0,a.CE)(a.FK,{key:0},[s[13]||(s[13]=(0,a.Lk)("div",{class:"label"},"Color",-1)),(0,a.Lk)("div",ms,(0,n.v_)(t.conditions.illumination?.color),1)],64)):(0,a.Q3)("",!0),s[16]||(s[16]=(0,a.Lk)("div",{class:"label"},"Distance to Vessel",-1)),(0,a.Lk)("div",ys,(0,n.v_)(t.conditions.illumination?.distanceToVessel||"None"),1)])):(0,a.Q3)("",!0),"electrochemistry"===t.display?((0,a.uX)(),(0,a.CE)("div",Ls,[s[17]||(s[17]=(0,a.Lk)("div",{class:"label"},"Type",-1)),(0,a.Lk)("div",bs,(0,n.v_)(t.conditions.electrochemistry),1)])):(0,a.Q3)("",!0),"flow"===t.display?((0,a.uX)(),(0,a.CE)("div",Cs,[s[18]||(s[18]=(0,a.Lk)("div",{class:"label"},"Type",-1)),(0,a.Lk)("div",ws,(0,n.v_)(t.conditions.flow),1)])):(0,a.Q3)("",!0),"other"===t.display?((0,a.uX)(),(0,a.CE)("div",hs,[t.conditions.reflux?((0,a.uX)(),(0,a.CE)(a.FK,{key:0},[s[19]||(s[19]=(0,a.Lk)("div",{class:"label"},"Reflux",-1)),(0,a.Lk)("div",_s,(0,n.v_)(t.conditions.reflux),1)],64)):(0,a.Q3)("",!0),t.conditions.ph?((0,a.uX)(),(0,a.CE)(a.FK,{key:1},[s[20]||(s[20]=(0,a.Lk)("div",{class:"label"},"pH",-1)),(0,a.Lk)("div",fs,(0,n.v_)(t.conditions.ph),1)],64)):(0,a.Q3)("",!0),t.conditions.conditions_are_dynamic?((0,a.uX)(),(0,a.CE)(a.FK,{key:2},[s[21]||(s[21]=(0,a.Lk)("div",{class:"label"},"Conditions are dynamic",-1)),(0,a.Lk)("div",Es,(0,n.v_)(t.conditions.conditions_are_dynamic),1)],64)):(0,a.Q3)("",!0),t.conditions.details?((0,a.uX)(),(0,a.CE)(a.FK,{key:3},[s[22]||(s[22]=(0,a.Lk)("div",{class:"label"},"Details",-1)),(0,a.Lk)("div",Xs,(0,n.v_)(t.conditions.details),1)],64)):(0,a.Q3)("",!0)])):(0,a.Q3)("",!0)])}var Ts=t(5839),Is={props:{conditions:Object,display:String},computed:{tempType(){return Ts.A.tempType(this.conditions.temperature?.control.type)},tempSetPoint(){return Ts.A.tempSetPoint(this.conditions.temperature?.setpoint)},pressureType(){return Ts.A.pressureType(this.conditions.pressure?.control.type)},pressureSetPoint(){return Ts.A.pressureSetPoint(this.conditions.pressure?.setpoint)},pressureAtmo(){return Ts.A.pressureAtmo(this.conditions.pressure?.atmosphere)},stirType(){return Ts.A.stirType(this.conditions.stirring?.type)},stirRate(){return Ts.A.stirRate(this.conditions.stirring?.rate)},illumType(){return Ts.A.illumType(this.conditions.illumination)}}};const Fs=(0,Fe.A)(Is,[["render",gs],["__scopeId","data-v-1069ef40"]]);var As=Fs;const Rs={class:"notes-view"},Qs={class:"details"},Os={class:"label"},Ks={class:"value"};function Ds(e,s,t,i,o,l){return(0,a.uX)(),(0,a.CE)("div",Rs,[(0,a.Lk)("div",Qs,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(l.notesToDisplay,(e=>((0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.Lk)("div",Os,(0,n.v_)(e.label),1),(0,a.Lk)("div",Ks,(0,n.v_)(e.val),1)],64)))),256))])])}var Ss={props:{notes:Object},computed:{notesToDisplay(){return Object.keys(this.notes).filter((e=>this.notes[e])).map((e=>({val:this.notes[e],label:this.camelToSpaces(e)})))}},methods:{camelToSpaces(e){return e.replace(/([a-z])([A-Z])/g,"$1 $2").replace("is ","").toLowerCase()}}};const Ms=(0,Fe.A)(Ss,[["render",Ds],["__scopeId","data-v-ffbca82a"]]);var xs=Ms;const Vs={class:"notes-view"},Ps={class:"details"},js={class:"value"},Ns={class:"value"};function $s(e,s,t,i,o,l){return(0,a.uX)(),(0,a.CE)("div",Vs,[(0,a.Lk)("div",Ps,[s[0]||(s[0]=(0,a.Lk)("div",{class:"label"},"Time",-1)),s[1]||(s[1]=(0,a.Lk)("div",{class:"label"},"Comment",-1)),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(t.observations,(e=>((0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.Lk)("div",js,(0,n.v_)(l.getTime(e.time)),1),(0,a.Lk)("div",Ns,(0,n.v_)(e.comment),1)],64)))),256))])])}var Ws=t(7547),Us={props:{observations:Array},methods:{getTime(e){return Ws.A.formattedTime(e)}}};const zs=(0,Fe.A)(Us,[["render",$s],["__scopeId","data-v-3d74d96e"]]);var Bs=zs;const Hs={class:"workups-view"},Gs={class:"details"},Js={class:"value"},qs={class:"value"},Ys={class:"value"},Zs={class:"value"},et={class:"value"},st={class:"value"},tt={class:"value"},at={key:0,class:"inputs"},it={class:"components"},nt={class:"identifier"},ot={class:"amount"};function lt(e,s,t,i,o,l){return(0,a.uX)(),(0,a.CE)("div",Hs,[(0,a.Lk)("div",Gs,[s[6]||(s[6]=(0,a.Lk)("div",{class:"label"},"Type",-1)),(0,a.Lk)("div",Js,(0,n.v_)(l.workupType),1),t.workup.details?((0,a.uX)(),(0,a.CE)(a.FK,{key:0},[s[0]||(s[0]=(0,a.Lk)("div",{class:"label"},"Details",-1)),(0,a.Lk)("div",qs,(0,n.v_)(t.workup.details),1)],64)):(0,a.Q3)("",!0),t.workup.duration?((0,a.uX)(),(0,a.CE)(a.FK,{key:1},[s[1]||(s[1]=(0,a.Lk)("div",{class:"label"},"Duration",-1)),(0,a.Lk)("div",Ys,(0,n.v_)(t.workup.duration),1)],64)):(0,a.Q3)("",!0),t.workup.amount?((0,a.uX)(),(0,a.CE)(a.FK,{key:2},[s[2]||(s[2]=(0,a.Lk)("div",{class:"label"},"Aliquot amount",-1)),(0,a.Lk)("div",Zs,(0,n.v_)(t.workup.amount),1)],64)):(0,a.Q3)("",!0),t.workup.keepPhase?((0,a.uX)(),(0,a.CE)(a.FK,{key:3},[s[3]||(s[3]=(0,a.Lk)("div",{class:"label"},"Phase kept",-1)),(0,a.Lk)("div",et,(0,n.v_)(t.workup.keepPhase),1)],64)):(0,a.Q3)("",!0),t.workup.targetPh?((0,a.uX)(),(0,a.CE)(a.FK,{key:4},[s[4]||(s[4]=(0,a.Lk)("div",{class:"label"},"Target pH",-1)),(0,a.Lk)("div",st,(0,n.v_)(t.workup.targetPh),1)],64)):(0,a.Q3)("",!0),t.workup.isAutomated?((0,a.uX)(),(0,a.CE)(a.FK,{key:5},[s[5]||(s[5]=(0,a.Lk)("div",{class:"label"},"Automated",-1)),(0,a.Lk)("div",tt,(0,n.v_)(t.workup.Automated),1)],64)):(0,a.Q3)("",!0)]),t.workup.input?((0,a.uX)(),(0,a.CE)("div",at,[s[7]||(s[7]=(0,a.Lk)("div",{class:"title"},"Inputs",-1)),(0,a.Lk)("div",it,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(t.workup.input.componentsList,(e=>((0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.Lk)("div",nt,(0,n.v_)(l.getIdentifier(e.identifiersList)),1),(0,a.Lk)("div",ot,(0,n.v_)(l.getAmount(e.amount)),1)],64)))),256))])])):(0,a.Q3)("",!0)])}var ct={props:{workup:Object},computed:{workupType(){const e=pe().ReactionWorkup.ReactionWorkupType;return Object.keys(e).find((s=>e[s]==this.workup?.type))}},methods:{getIdentifier(e){return e.find((e=>6==e.type)).value},getAmount(e){return Te(ge(e))}}};const rt=(0,Fe.A)(ct,[["render",lt],["__scopeId","data-v-42eadc56"]]);var dt=rt;const ut={class:"outcomes-view"},vt={class:"details"},pt={class:"value"},kt={class:"value"},mt={class:"sub-section"},yt={class:"tabs"},Lt=["onClick"],bt={class:"compound"},Ct={class:"measurements"},wt={class:"value"},ht={class:"value"},_t={class:"value"},ft={class:"value"},Et={class:"raw"},Xt=["onClick"],gt={class:"data"},Tt={class:"sub-section"},It={class:"tabs"},Ft=["onClick"],At={class:"details"},Rt={class:"value"},Qt={class:"value"},Ot={class:"value"},Kt={class:"raw"},Dt={class:"data"};function St(e,s,t,i,o,l){const c=(0,a.g2)("CompoundView"),r=(0,a.g2)("floating-modal");return(0,a.uX)(),(0,a.CE)("div",ut,[t.outcome.reactionTime||t.outcome.conversion?((0,a.uX)(),(0,a.CE)(a.FK,{key:0},[s[5]||(s[5]=(0,a.Lk)("div",{class:"title"},"Details",-1)),(0,a.Lk)("div",vt,[t.outcome.reactionTime?((0,a.uX)(),(0,a.CE)(a.FK,{key:0},[s[3]||(s[3]=(0,a.Lk)("div",{class:"label"},"Reaction Time",-1)),(0,a.Lk)("div",pt,(0,n.v_)(l.reactionTime),1)],64)):(0,a.Q3)("",!0),t.outcome.conversion?((0,a.uX)(),(0,a.CE)(a.FK,{key:1},[s[4]||(s[4]=(0,a.Lk)("div",{class:"label"},"Conversion",-1)),(0,a.Lk)("div",kt,(0,n.v_)(t.outcome.conversion.value)+" "+(0,n.v_)(isNaN(t.outcome.conversion.precision)?"":`± ${t.outcome.conversion.precision}`),1)],64)):(0,a.Q3)("",!0)])],64)):(0,a.Q3)("",!0),s[15]||(s[15]=(0,a.Lk)("div",{class:"title"},"Products",-1)),(0,a.Lk)("div",mt,[(0,a.Lk)("div",yt,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(t.outcome.productsList,((e,s)=>((0,a.uX)(),(0,a.CE)("div",{class:(0,n.C4)(["tab",o.productsIdx===s?"selected":""]),onClick:e=>o.productsIdx=s},"Product "+(0,n.v_)(s+1),11,Lt)))),256))]),(0,a.Lk)("div",bt,[(0,a.bF)(c,{component:t.outcome.productsList[o.productsIdx]},null,8,["component"])]),s[10]||(s[10]=(0,a.Lk)("div",{class:"sub-title"},"Measurements",-1)),(0,a.Lk)("div",Ct,[s[6]||(s[6]=(0,a.Lk)("div",{class:"label"},"Type",-1)),s[7]||(s[7]=(0,a.Lk)("div",{class:"label"},"Value",-1)),s[8]||(s[8]=(0,a.Lk)("div",{class:"label"},"Analysis",-1)),s[9]||(s[9]=(0,a.Lk)("div",{class:"label"},"Raw",-1)),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(t.outcome.productsList[o.productsIdx].measurementsList,(e=>((0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.Lk)("div",wt,(0,n.v_)(l.getMeasurementType(e.type)),1),(0,a.Lk)("div",ht,(0,n.v_)(l.getMeasurementValue(e)),1),(0,a.Lk)("div",_t,(0,n.v_)(e.analysisKey),1),(0,a.Lk)("div",ft,[(0,a.Lk)("div",Et,[(0,a.Lk)("div",{class:"button",onClick:s=>l.setRawMeasurement(e)},"<>",8,Xt)])])],64)))),256))]),o.showRawMeasurement?((0,a.uX)(),(0,a.Wv)(r,{key:0,title:"Raw Data",onCloseModal:s[0]||(s[0]=e=>o.showRawMeasurement=!1)},{default:(0,a.k6)((()=>[(0,a.Lk)("div",gt,[(0,a.Lk)("pre",null,(0,n.v_)(o.rawMeasurement),1)])])),_:1})):(0,a.Q3)("",!0)]),t.outcome.analysesMap?.length?((0,a.uX)(),(0,a.CE)(a.FK,{key:1},[s[14]||(s[14]=(0,a.Lk)("div",{class:"title"},"Analyses",-1)),(0,a.Lk)("div",Tt,[(0,a.Lk)("div",It,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(t.outcome.analysesMap,((e,s)=>((0,a.uX)(),(0,a.CE)("div",{class:(0,n.C4)(["tab",o.analysesIdx===s?"selected":""]),onClick:e=>o.analysesIdx=s},(0,n.v_)(e[0]),11,Ft)))),256))]),(0,a.Lk)("div",At,[s[11]||(s[11]=(0,a.Lk)("div",{class:"label"},"Type",-1)),(0,a.Lk)("div",Rt,(0,n.v_)(l.getAnalysisType(t.outcome.analysesMap[o.analysesIdx][1].type)),1),s[12]||(s[12]=(0,a.Lk)("div",{class:"label"},"Details",-1)),(0,a.Lk)("div",Qt,(0,n.v_)(t.outcome.analysesMap[o.analysesIdx][1].details),1),s[13]||(s[13]=(0,a.Lk)("div",{class:"label"},"Raw",-1)),(0,a.Lk)("div",Ot,[(0,a.Lk)("div",Kt,[(0,a.Lk)("div",{class:"button",onClick:s[1]||(s[1]=e=>l.setRawAnalysis(t.outcome.analysesMap[o.analysesIdx][1]))},"<>")])])])]),o.showRawAnalysis?((0,a.uX)(),(0,a.Wv)(r,{key:0,title:"Raw Data",onCloseModal:s[2]||(s[2]=e=>o.showRawAnalysis=!1)},{default:(0,a.k6)((()=>[(0,a.Lk)("div",Dt,[(0,a.Lk)("pre",null,(0,n.v_)(o.rawAnalysis),1)])])),_:1})):(0,a.Q3)("",!0)],64)):(0,a.Q3)("",!0)])}var Mt={props:{outcome:Object},components:{CompoundView:Re,FloatingModal:Xe.A},data(){return{productsIdx:0,showRawMeasurement:!1,rawMeasurement:{},analysesIdx:0,showRawAnalysis:!1,rawAnalysis:{}}},computed:{reactionTime(){return Ws.A.formattedTime(this.outcome.reactionTime)}},methods:{getMeasurementType(e){const s=pe().ProductMeasurement.ProductMeasurementType;return Object.keys(s).find((t=>s[t]==e))},getMeasurementValue(e){return e.percentage?Math.round(10*e.percentage.value)/10+"%":e.amount?Te(ge(e.amount)):""},setRawMeasurement(e){const s=JSON.parse(JSON.stringify(e));s.type=this.getMeasurementType(s.type),s.amount&&Object.keys(s.amount).forEach((e=>{s.amount[e]&&(s.amount[e].units=ge(s.amount).unitType)})),this.rawMeasurement=s,this.showRawMeasurement=!0},getAnalysisType(e){const s=pe().Analysis.AnalysisType;return Object.keys(s).find((t=>s[t]==e))},setRawAnalysis(e){const s=JSON.parse(JSON.stringify(e));s.type=this.getAnalysisType(s.type),this.rawAnalysis=s,this.showRawAnalysis=!0}}};const xt=(0,Fe.A)(Mt,[["render",St],["__scopeId","data-v-0781bbfe"]]);var Vt=xt;const Pt={class:"provenance-view"},jt={class:"details experimenter"},Nt={class:"value"},$t={class:"value"},Wt={class:"value"},Ut={class:"value"},zt={class:"value"},Bt={class:"details"},Ht={class:"value"},Gt={class:"value"},Jt={class:"value"},qt={class:"value"},Yt={class:"value"},Zt=["href"];function ea(e,s,t,i,o,l){return(0,a.uX)(),(0,a.CE)("div",Pt,[t.provenance.experimenter?((0,a.uX)(),(0,a.CE)(a.FK,{key:0},[s[1]||(s[1]=(0,a.Lk)("div",{class:"title"},"Experimenter",-1)),(0,a.Lk)("div",jt,[s[0]||(s[0]=(0,a.Fv)('<div class="label" data-v-7adb2f63>Username</div><div class="label" data-v-7adb2f63>Name</div><div class="label" data-v-7adb2f63>ORCID</div><div class="label" data-v-7adb2f63>Organization</div><div class="label" data-v-7adb2f63>Email</div>',5)),(0,a.Lk)("div",Nt,(0,n.v_)(t.provenance.experimenter?.username),1),(0,a.Lk)("div",$t,(0,n.v_)(t.provenance.experimenter?.name),1),(0,a.Lk)("div",Wt,(0,n.v_)(t.provenance.experimenter?.orcid),1),(0,a.Lk)("div",Ut,(0,n.v_)(t.provenance.experimenter?.organization),1),(0,a.Lk)("div",zt,(0,n.v_)(t.provenance.experimenter?.email),1)])],64)):(0,a.Q3)("",!0),(0,a.Lk)("div",Bt,[t.provenance.city?((0,a.uX)(),(0,a.CE)(a.FK,{key:0},[s[2]||(s[2]=(0,a.Lk)("div",{class:"label"},"City",-1)),(0,a.Lk)("div",Ht,(0,n.v_)(t.provenance.city),1)],64)):(0,a.Q3)("",!0),t.provenance.experimentStart?((0,a.uX)(),(0,a.CE)(a.FK,{key:1},[s[3]||(s[3]=(0,a.Lk)("div",{class:"label"},"City",-1)),(0,a.Lk)("div",Gt,(0,n.v_)(new Date(t.provenance.experimentStart).toLocaleDateString()),1)],64)):(0,a.Q3)("",!0),t.provenance.doi?((0,a.uX)(),(0,a.CE)(a.FK,{key:2},[s[4]||(s[4]=(0,a.Lk)("div",{class:"label"},"DOI",-1)),(0,a.Lk)("div",Jt,(0,n.v_)(t.provenance.doi),1)],64)):(0,a.Q3)("",!0),t.provenance.patent?((0,a.uX)(),(0,a.CE)(a.FK,{key:3},[s[5]||(s[5]=(0,a.Lk)("div",{class:"label"},"Patent",-1)),(0,a.Lk)("div",qt,(0,n.v_)(t.provenance.patent),1)],64)):(0,a.Q3)("",!0),t.provenance.publicationUrl?((0,a.uX)(),(0,a.CE)(a.FK,{key:4},[s[6]||(s[6]=(0,a.Lk)("div",{class:"label"},"Publication URL",-1)),(0,a.Lk)("div",Yt,[(0,a.Lk)("a",{href:t.provenance.publicationUrl,target:"_blank"},(0,n.v_)(t.provenance.publicationUrl),9,Zt)])],64)):(0,a.Q3)("",!0)])])}var sa={props:{provenance:Object}};const ta=(0,Fe.A)(sa,[["render",ea],["__scopeId","data-v-7adb2f63"]]);var aa=ta;const ia={class:"events-view"},na={class:"tabs"},oa=["onClick"],la={class:"details"},ca={class:"value"},ra={class:"value"},da={class:"value"},ua={class:"value"},va={class:"value"},pa={class:"value"};function ka(e,s,t,i,o,l){return(0,a.uX)(),(0,a.CE)("div",ia,[(0,a.Lk)("div",na,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(t.events,((e,s)=>((0,a.uX)(),(0,a.CE)("div",{class:(0,n.C4)(["tab",o.eventIdx===s?"selected":""]),onClick:e=>o.eventIdx=s},(0,n.v_)(new Date(e.time?.value).toLocaleString()),11,oa)))),256))]),(0,a.Lk)("div",la,[t.events[o.eventIdx].details?((0,a.uX)(),(0,a.CE)(a.FK,{key:0},[s[0]||(s[0]=(0,a.Lk)("div",{class:"label"},"Details",-1)),(0,a.Lk)("div",ca,(0,n.v_)(t.events[o.eventIdx].details),1)],64)):(0,a.Q3)("",!0),t.events[o.eventIdx].person?.username?((0,a.uX)(),(0,a.CE)(a.FK,{key:1},[s[1]||(s[1]=(0,a.Lk)("div",{class:"label"},"Username",-1)),(0,a.Lk)("div",ra,(0,n.v_)(t.events[o.eventIdx].person.username),1)],64)):(0,a.Q3)("",!0),t.events[o.eventIdx].person?.name?((0,a.uX)(),(0,a.CE)(a.FK,{key:2},[s[2]||(s[2]=(0,a.Lk)("div",{class:"label"},"Name",-1)),(0,a.Lk)("div",da,(0,n.v_)(t.events[o.eventIdx].person.name),1)],64)):(0,a.Q3)("",!0),t.events[o.eventIdx].person?.orcid?((0,a.uX)(),(0,a.CE)(a.FK,{key:3},[s[3]||(s[3]=(0,a.Lk)("div",{class:"label"},"ORCID",-1)),(0,a.Lk)("div",ua,(0,n.v_)(t.events[o.eventIdx].person.orcid),1)],64)):(0,a.Q3)("",!0),t.events[o.eventIdx].person?.organization?((0,a.uX)(),(0,a.CE)(a.FK,{key:4},[s[4]||(s[4]=(0,a.Lk)("div",{class:"label"},"Organization",-1)),(0,a.Lk)("div",va,(0,n.v_)(t.events[o.eventIdx].person.organization),1)],64)):(0,a.Q3)("",!0),t.events[o.eventIdx].person?.email?((0,a.uX)(),(0,a.CE)(a.FK,{key:5},[s[5]||(s[5]=(0,a.Lk)("div",{class:"label"},"Email",-1)),(0,a.Lk)("div",pa,(0,n.v_)(t.events[o.eventIdx].person.email),1)],64)):(0,a.Q3)("",!0)])])}var ma={props:{events:Array},data(){return{eventIdx:0}}};const ya=(0,Fe.A)(ma,[["render",ka],["__scopeId","data-v-b3d7b0c6"]]);var La=ya,ba=t(6466),Ca=t(7753),wa={components:{CompoundView:Re,SetupView:He,ConditionsView:As,NotesView:xs,ObservationsView:Bs,WorkupsView:dt,OutcomesView:Vt,ProvenanceView:aa,EventsView:La,FloatingModal:Xe.A,LoadingSpinner:ba.A},data(){return{reaction:{},reactionSummary:null,reactionBytes:null,loading:!0,inputsIdx:0,setupTabs:["vessel","environment","automation"],setupTab:"vessel",conditionTabs:["temperature","pressure","stirring","illumination","electrochemistry","flow","other"],conditionTab:"temperature",workupsTab:0,outcomesTab:0,showRawReaction:!1,navItems:[],activeNav:"summary",traceback:null}},computed:{reactionId(){return this.$route.params.reactionId},displayDetails(){if(!this.reaction)return{};let e={...this.reaction.inputsMap[this.inputsIdx][1]},s=Object.fromEntries(Object.entries(e).filter((([e,s])=>null!=s&&!Array.isArray(s))));if(s.additionDevice){const e=pe().ReactionInput.AdditionDevice.AdditionDeviceType,t=Object.keys(e).find((t=>e[t]==s.additionDevice.type));s.additionDevice=t.toLowerCase()}if(s.additionSpeed){const e=pe().ReactionInput.AdditionSpeed.AdditionSpeedType,t=Object.keys(e).find((t=>e[t]==s.additionSpeed.type));s.additionSpeed=t.toLowerCase()}return s.additionDuration&&(s.additionDuration=Ws.A.formattedTime(s.additionDuration)),s},displayConditionsOther(){const e=["reflux","ph","conditions_are_dynamic","details"];return e.find((e=>this.reaction.conditions[e]))},events(){const e=[];return this.reaction?.provenance?.recordCreated?(e.push(this.reaction.provenance.recordCreated),e[0].details="(record created)",e.push(...this.reaction.provenance.recordModifiedList),e.sort(((e,s)=>{const t=new Date(e.time.value),a=new Date(s.time.value);return t-a})),e):e},positions(){return this.navItems.length?this.navItems.filter((e=>document.getElementById(e))).map((e=>{const s=document.getElementById(e),t=s.getBoundingClientRect();return{id:e,top:t.top+window.pageYOffset,bottom:t.bottom+window.pageYOffset}})):null}},methods:{getReactionData(){return new Promise((e=>{const s=new XMLHttpRequest,t=window.location.search,a=`/api/fetch_reactions${t}`;console.log("POST: ",a),s.open("POST",a),s.setRequestHeader("Content-Type","application/json"),s.onload=()=>{let t=null;if(null!==s.response){let e=JSON.parse(s.response);if("traceback"in e)this.traceback=e["traceback"];else{const s=e[0].proto,a=(0,Ca.A)(s);t=pe().Reaction.deserializeBinary(a).toObject(),t.inputsMap.sort(((e,s)=>e[1].additionOrder-s[1].additionOrder))}}e(t)},s.send(JSON.stringify([this.reactionId]))}))},async getReactionSummary(){const e=await fetch(`/api/render/${this.reactionId}?compact=false`),s=await e.json();return s},getReactionType(e){const s=pe().ReactionIdentifier.ReactionIdentifierType;return Object.keys(s).find((t=>s[t]==e))},getWorkupLabel(e){const s=pe().ReactionWorkup.ReactionWorkupType;return Object.keys(s).find((t=>s[t]==e)).toLowerCase().replaceAll("_"," ")},setNavItems(){let e=["summary","identifiers","inputs"];const s=["setup","conditions","notes","observations","workups"];s.forEach((s=>{(this.reaction[s]||this.reaction[`${s}List`]?.length)&&e.push(s)}));const t=["outcomes","provenance","full-record"];return e.push(...t),e},scrollTo(e){document.getElementById(e).scrollIntoView({behavior:"smooth"})},onScroll(){const e=this.positions.find((e=>e.top<=window.pageYOffset&&e.bottom>window.pageYOffset));e&&(this.activeNav=e.id)}},async mounted(){this.reaction=await this.getReactionData(),this.reactionSummary=await this.getReactionSummary(),this.navItems=this.setNavItems(),this.loading=!1,window.addEventListener("scroll",this.onScroll)},beforeUnmount(){window.removeEventListener("scroll",this.onScroll)}};const ha=(0,Fe.A)(wa,[["render",ue],["__scopeId","data-v-2d9ee78a"]]);var _a=ha}}]);
//# sourceMappingURL=53.af60b4b4.js.map