"use strict";(self["webpackChunkapp"]=self["webpackChunkapp"]||[]).push([[549],{5765:function(e,t,o){o.d(t,{A:function(){return v}});var n=o(6768),i=o(4232),a=o(5130);const s={class:"copy-button-main"},c={class:"material-icons"},d={key:0,class:"copy"};function r(e,t,o,r,l,u){return(0,n.uX)(),(0,n.CE)("div",s,[(0,n.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>u.copy&&u.copy(...e))},[(0,n.Lk)("i",c,(0,i.v_)(o.icon),1),o.buttonText?((0,n.uX)(),(0,n.CE)("div",d,(0,i.v_)(o.buttonText),1)):(0,n.Q3)("",!0)]),(0,n.bF)(a.eB,{name:"fade"},{default:(0,n.k6)((()=>[l.displayNotification?((0,n.uX)(),(0,n.CE)("div",{key:0,id:"copy-notification",style:(0,i.Tr)(l.notificationStyle)},"Copied to clipboard!",4)):(0,n.Q3)("",!0)])),_:1})])}var l={name:"CopyButton",props:{textToCopy:String,icon:{type:String,default:"content_copy"},buttonText:{type:String,default:""}},data(){return{displayNotification:!1,notificationStyle:{top:0,left:0}}},methods:{copy(e){const{clientX:t,clientY:o}=e;this.notificationStyle={top:`${o}px`,left:`${t}px`},navigator.clipboard.writeText(this.textToCopy).then((()=>{this.displayNotification=!0,setTimeout((()=>{this.displayNotification=!1}),1500)}))}}},u=o(1241);const p=(0,u.A)(l,[["render",r],["__scopeId","data-v-08b220a4"]]);var v=p},9554:function(e,t,o){o.d(t,{A:function(){return y}});var n=o(6768),i=o(5130),a=o(4232);const s={class:"download-results-main"},c={class:"download-body"},d={class:"options"},r={class:"download"};function l(e,t,o,l,u,p){const v=(0,n.g2)("floating-modal");return(0,n.uX)(),(0,n.CE)("div",s,[o.showDownloadResults?((0,n.uX)(),(0,n.Wv)(v,{key:0,title:"DownloadResults",onCloseModal:t[2]||(t[2]=t=>e.$emit("hideDownloadResults"))},{default:(0,n.k6)((()=>[(0,n.Lk)("div",c,[t[5]||(t[5]=(0,n.Lk)("div",{class:"title"},"Select your desired file type and then click download.",-1)),(0,n.Lk)("div",d,[t[4]||(t[4]=(0,n.Lk)("label",{for:"file-type-select"},"File type:",-1)),(0,n.bo)((0,n.Lk)("select",{id:"file-type-select","onUpdate:modelValue":t[0]||(t[0]=e=>u.fileType=e)},t[3]||(t[3]=[(0,n.Lk)("option",{value:"pb.gz"},"pb.gz",-1),(0,n.Lk)("option",{value:"csv",disabled:""},"csv (coming soon)",-1),(0,n.Lk)("option",{value:"pbtxt",disabled:""},"pbtxt (coming soon)",-1)]),512),[[i.u1,u.fileType]])]),(0,n.Lk)("div",r,[(0,n.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>p.downloadResults&&p.downloadResults(...e))},"Download "+(0,a.v_)(u.fileType)+" file",1)])])])),_:1})):(0,n.Q3)("",!0)])}o(4603),o(7566),o(8721);var u=o(2272),p={name:"DownloadResults",props:{reactionIds:Array,showDownloadResults:Boolean},components:{"floating-modal":u.A},watch:{fileType(e){this.$store.commit("setDownloadFileType",e)}},data(){return{fileType:"pb.gz"}},methods:{downloadResults(){const e=new XMLHttpRequest;e.open("POST","/api/download_results"),e.responseType="blob",e.onload=()=>{if(200===e.status){const t=URL.createObjectURL(e.response),o=document.createElement("a");o.href=t,o.download="ord_search_results.pb.gz",o.click(),setTimeout((()=>{URL.revokeObjectURL(t),o.remove()}),100)}},e.setRequestHeader("Content-Type","application/json");const t=this.reactionIds.map((e=>({"Reaction ID":e})));e.send(JSON.stringify(t))}},mounted(){this.fileType=this.$store.state.downloadFileType||"pb.gz"}},v=o(1241);const f=(0,v.A)(p,[["render",l],["__scopeId","data-v-93fb3834"]]);var y=f},3878:function(e,t,o){o.d(t,{A:function(){return U}});var n=o(6768),i=o(4232);const a={class:"reaction-container"},s={key:0,class:"select"},c=["id","value","checked"],d=["for"],r=["innerHTML"],l={class:"info"},u={class:"col full"},p={class:"col"},v={class:"yield"},f={class:"conversion"},y={class:"conditions"},k={key:0,class:"smile"},L={class:"value"},h={class:"col"},m={class:"creator"},b={class:"date"},g={class:"doi"},T={class:"publication"},_=["href"],C={class:"dataset"};function w(e,t,o,w,R,S){const A=(0,n.g2)("LoadingSpinner"),D=(0,n.g2)("router-link"),$=(0,n.g2)("CopyButton");return(0,n.uX)(),(0,n.CE)("div",a,[(0,n.Lk)("div",{class:(0,i.C4)(["row",o.isSelected?"selected":""])},[o.isSelectable?((0,n.uX)(),(0,n.CE)("div",s,[(0,n.Lk)("input",{type:"checkbox",id:"select_"+o.reaction.reaction_id,value:o.reaction.reaction_id,checked:o.isSelected,onChange:t[0]||(t[0]=t=>e.$emit("clickedSelect",t))},null,40,c),(0,n.Lk)("label",{for:"select_"+o.reaction.reaction_id},"Select reaction",8,d)])):(0,n.Q3)("",!0),R.reactionTable?((0,n.uX)(),(0,n.CE)("div",{key:1,class:"reaction-table",innerHTML:R.reactionTable},null,8,r)):((0,n.uX)(),(0,n.Wv)(A,{key:2})),(0,n.Lk)("div",l,[(0,n.Lk)("div",u,[(0,n.bF)(D,{to:{name:"reaction-view",params:{reactionId:o.reaction.reaction_id}}},{default:(0,n.k6)((()=>t[1]||(t[1]=[(0,n.Lk)("button",null,"View Full Details",-1)]))),_:1},8,["to"])]),(0,n.Lk)("div",p,[(0,n.Lk)("div",v,"Yield: "+(0,i.v_)(S.getYield(o.reaction.data.outcomesList[0].productsList[0].measurementsList)),1),(0,n.Lk)("div",f,"Conversion: "+(0,i.v_)(S.getConversion(o.reaction.data)),1),(0,n.Lk)("div",y,"Conditions: "+(0,i.v_)(S.conditionsAndDuration(o.reaction.data).join("; ")||"Not Listed"),1),o.reaction.data.outcomesList[0].productsList[0].identifiersList.length?((0,n.uX)(),(0,n.CE)("div",k,[(0,n.bF)($,{textToCopy:o.reaction.data.outcomesList[0].productsList[0].identifiersList[0].value},null,8,["textToCopy"]),(0,n.Lk)("div",L,"Product "+(0,i.v_)(S.productIdentifier(o.reaction.data.outcomesList[0].productsList[0].identifiersList[0])),1)])):(0,n.Q3)("",!0)]),(0,n.Lk)("div",h,[(0,n.Lk)("div",m,"Uploaded by "+(0,i.v_)(o.reaction.data.provenance.recordCreated.person.name)+", "+(0,i.v_)(o.reaction.data.provenance.recordCreated.person.organization),1),(0,n.Lk)("div",b,"Uploaded on "+(0,i.v_)(new Date(o.reaction.data.provenance.recordCreated.time.value).toLocaleDateString()),1),(0,n.Lk)("div",g,"DOI: "+(0,i.v_)(o.reaction.data.provenance.doi),1),(0,n.Lk)("div",T,[(0,n.Lk)("a",{href:o.reaction.data.provenance.publicationUrl,target:"_blank"},"Publication URL",8,_)]),(0,n.Lk)("div",C,"Dataset: "+(0,i.v_)(o.reaction.dataset_id),1)])])],2)])}o(4114),o(4603),o(7566),o(8721);var R=o(6466),S=o(5839),A=o(7547),D=o(9518),$=o.n(D),x=o(5765),N={props:{reaction:Object,isSelected:Boolean,isSelectable:Boolean},components:{LoadingSpinner:R.A,CopyButton:x.A},data(){return{formattedResults:[],selectedReactions:[],reactionTable:null}},methods:{getSearchParams(){const e=new URLSearchParams(window.location.search);return e},getDBQuery(){const e=this.getSearchParams(),t=e.get("database"),o=null!==t&&t.length?`?database=${t}`:"";return o},getReactionTable(){const e=this.getDBQuery();fetch(`/api/render/${this.reaction.reaction_id}${e}`).then((e=>e.json())).then((e=>{this.reactionTable=e}))},getYield(e){const t=e.find((e=>3==e.type));return t?.percentage?`${t.percentage.value}%`:"Not listed"},getConversion(e){if(!e.outcomesList[0].conversion)return"Not listed"},conditionsAndDuration(e){const t=[],o=S.A.tempSetPoint(e.conditions.temperature?.setpoint);"None"!==o&&t.push(`at ${o}`);const n=S.A.pressureSetPoint(e.conditions.pressure?.setpoint);"None"!==n&&t.push(`under ${n}`);const i=A.A.formattedTime(e.outcomesList[0]?.reactionTime);i&&"None"!==i&&void 0!==i&&t.push(`for ${i}`);const a=S.A.stirType(e.conditions.stirring?.type);a&&"None"!==a&&void 0!==a&&t.push(`under ${a}`);const s=S.A.mechType(e.conditions.mechanochemistry?.type);return s&&"None"!==s&&void 0!==s&&t.push(`with ${s}`),t},productIdentifier(e){const t=$().CompoundIdentifier.CompoundIdentifierType,o=Object.keys(t).find((o=>t[o]==e.type));return`${o}: ${e.value}`},updateSelectedReactions(e){if(e.target.checked)this.selectedReactions.push(e.target.value);else{let t=this.selectedReactions.indexOf(e.target.value);-1!==t&&this.selectedReactions.splice(t,1)}}},async mounted(){this.getReactionTable()}},I=o(1241);const X=(0,I.A)(N,[["render",w],["__scopeId","data-v-3ce55cbd"]]);var U=X}}]);
//# sourceMappingURL=549.7b43a62c.js.map