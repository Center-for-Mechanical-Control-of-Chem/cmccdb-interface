"use strict";(self["webpackChunkapp"]=self["webpackChunkapp"]||[]).push([[959],{5806:function(e,t,o){o.r(t),o.d(t,{default:function(){return v}});var n=o(6768);const s={id:"selected-set-main"},a={class:"header"},l={class:"action-button-holder"},i=["disabled"],c={key:0,class:"selected-set"},d={key:1,class:"no-results"},r={key:2,class:"loading"};function u(e,t,o,u,h,p){const w=(0,n.g2)("CopyButton"),g=(0,n.g2)("ReactionCard"),R=(0,n.g2)("LoadingSpinner"),C=(0,n.g2)("DownloadResults");return(0,n.uX)(),(0,n.CE)("div",s,[(0,n.Lk)("div",a,[t[2]||(t[2]=(0,n.Lk)("div",{class:"title"},"Reaction Set",-1)),(0,n.Lk)("div",l,[(0,n.bF)(w,{textToCopy:p.fullUrl,icon:"share",buttonText:"Shareable Link"},null,8,["textToCopy"]),(0,n.Lk)("button",{disabled:!p.reactionIds.length,onClick:t[0]||(t[0]=e=>h.showDownloadResults=!0)},"Download Reaction Set",8,i)])]),!h.loading&&h.reactions.length?((0,n.uX)(),(0,n.CE)("div",c,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(h.reactions,(e=>((0,n.uX)(),(0,n.Wv)(g,{reaction:e,isSelectable:!1,isSelected:!1},null,8,["reaction"])))),256))])):h.loading||h.reactions?.length?((0,n.uX)(),(0,n.CE)("div",r,[(0,n.bF)(R)])):((0,n.uX)(),(0,n.CE)("div",d,t[3]||(t[3]=[(0,n.Lk)("div",{class:"title"},"There was an issue fetching your selected reactions.",-1)]))),(0,n.bF)(C,{reactionIds:p.reactionIds,showDownloadResults:h.showDownloadResults,onHideDownloadResults:t[1]||(t[1]=e=>h.showDownloadResults=!1)},null,8,["reactionIds","showDownloadResults"])])}var h=o(6466),p=o(9518),w=o.n(p),g=o(7753),R=o(3878),C=o(9554),b=o(5765),k={components:{LoadingSpinner:h.A,ReactionCard:R.A,DownloadResults:C.A,CopyButton:b.A},data(){return{reactions:[],loading:!0,showDownloadResults:!1}},computed:{reactionIds(){return this.$route.query.reaction_ids||[]},fullUrl(){return window.location.href}},methods:{async getSelectedReactions(){this.loading=!0;try{const e=new XMLHttpRequest;e.open("POST","/api/fetch_reactions"),e.setRequestHeader("Content-Type","application/json"),e.onload=()=>{let t=null;null!==e.response&&(t=JSON.parse(e.response),t.forEach((e=>{const t=e.proto,o=(0,g.A)(t);e.data=w().Reaction.deserializeBinary(o).toObject()}))),this.reactions=t,this.loading=!1},e.send(JSON.stringify(this.reactionIds))}catch(e){console.log(e),this.loading=!1}}},mounted(){this.getSelectedReactions()}},y=o(1241);const f=(0,y.A)(k,[["render",u],["__scopeId","data-v-5ebce93a"]]);var v=f}}]);
//# sourceMappingURL=959.fd7d3cc9.js.map