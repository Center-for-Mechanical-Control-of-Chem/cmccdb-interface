"use strict";(self["webpackChunkapp"]=self["webpackChunkapp"]||[]).push([[317],{3143:function(a,e,t){t.d(e,{A:function(){return E}});var i=t(6768),n=t(4232),s=t(5130);const r={class:"table-main"},l={class:"table-container"},c={class:"header"},o={class:"title-holder"},d={class:"title"},u={key:0,class:"search-area"},g={class:"content"},p={class:"entities-holder"},v={key:0,class:"pagination"},h={class:"select"},k={class:"word"},L={class:"paginav no-click"},m={class:"word"},P={class:"word"};function b(a,e,t,b,f,y){return(0,i.uX)(),(0,i.CE)("div",r,[(0,i.Lk)("div",l,[(0,i.Lk)("div",c,[(0,i.Lk)("div",o,[(0,i.Lk)("div",d,(0,n.v_)(t.title),1)])]),t.displaySearch?((0,i.uX)(),(0,i.CE)("div",u,[e[8]||(e[8]=(0,i.Lk)("label",{for:"search"},"Search: ",-1)),(0,i.bo)((0,i.Lk)("input",{type:"text",id:"search","onUpdate:modelValue":e[0]||(e[0]=a=>f.searchString=a)},null,512),[[s.Jo,f.searchString]])])):(0,i.Q3)("",!0),(0,i.Lk)("div",g,[(0,i.Lk)("div",p,[(0,i.RG)(a.$slots,"default",{entities:y.paginatedEntities},void 0,!0)]),f.pagination&&f.entities?((0,i.uX)(),(0,i.CE)("div",v,[(0,i.Lk)("div",h,[e[10]||(e[10]=(0,i.eW)("Showing ")),(0,i.bo)((0,i.Lk)("select",{name:"pagination",id:"pagination","onUpdate:modelValue":e[1]||(e[1]=a=>f.pagination=a)},e[9]||(e[9]=[(0,i.Lk)("option",{value:"10"},"10",-1),(0,i.Lk)("option",{value:"25"},"25",-1),(0,i.Lk)("option",{value:"50"},"50",-1),(0,i.Lk)("option",{value:"100"},"100",-1)]),512),[[s.u1,f.pagination]]),(0,i.eW)(" of "+(0,n.v_)(y.filteredEntities.length)+" entries.",1)]),(0,i.Lk)("div",{class:"paginav first",onClick:e[2]||(e[2]=a=>f.currentPage=1)},e[11]||(e[11]=[(0,i.Lk)("img",{class:"chevron",src:"/img/arrowL.png"},null,-1),(0,i.Lk)("img",{class:"chevron",src:"/img/arrowL.png"},null,-1),(0,i.Lk)("span",{class:"word"},"First",-1)])),(0,i.Lk)("div",{class:"prev paginav",onClick:e[3]||(e[3]=a=>f.currentPage=y.pagiPrev)},e[12]||(e[12]=[(0,i.Lk)("img",{class:"chevron",src:"/img/arrowL.png"},null,-1),(0,i.Lk)("span",{class:"word"},"Previous",-1)])),(0,i.Lk)("div",{class:(0,n.C4)(["paginav",f.currentPage>1?"":"no-click"]),onClick:e[4]||(e[4]=a=>f.currentPage=f.currentPage>1?f.currentPage-1:f.currentPage)},[(0,i.Lk)("span",k,(0,n.v_)(f.currentPage>1?f.currentPage-1:"..."),1)],2),(0,i.Lk)("div",L,[(0,i.Lk)("span",m,(0,n.v_)(f.currentPage),1)]),(0,i.Lk)("div",{class:(0,n.C4)(["paginav",f.currentPage<y.lastPage?"":"no-click"]),onClick:e[5]||(e[5]=a=>f.currentPage=f.currentPage<y.lastPage?f.currentPage+1:f.currentPage)},[(0,i.Lk)("span",P,(0,n.v_)(f.currentPage<y.lastPage?f.currentPage+1:"..."),1)],2),(0,i.Lk)("div",{class:"next paginav",onClick:e[6]||(e[6]=a=>f.currentPage=y.pagiNext)},e[13]||(e[13]=[(0,i.Lk)("span",{class:"word"},"Next",-1),(0,i.Lk)("img",{class:"chevron",src:"/img/arrowR.png"},null,-1)])),(0,i.Lk)("div",{class:"paginav last",onClick:e[7]||(e[7]=a=>f.currentPage=y.lastPage)},e[14]||(e[14]=[(0,i.Lk)("span",{class:"word"},"Last",-1),(0,i.Lk)("img",{class:"chevron",src:"/img/arrowR.png"},null,-1),(0,i.Lk)("img",{class:"chevron",src:"/img/arrowR.png"},null,-1)]))])):(0,i.Q3)("",!0)])])])}var f={props:{tableData:Array,title:String,displaySearch:{type:Boolean,default:!0}},watch:{pagination(){this.currentPage=1}},data(){return{entities:null,localFilters:[],search:"",currentPage:1,loading:!0,pagination:10,searchString:""}},computed:{filteredEntities(){if(!this.entities)return[];let a=this.entities;return this.searchString&&(a=a.filter((a=>{let e=Array.apply(null,Array(this.searchArray.length));return this.searchArray.forEach(((t,i)=>{Object.keys(a).forEach((n=>{a[n].toString().toLowerCase().includes(t.toLowerCase())&&(e[i]=!0)}))})),console.log("matching",e.includes(void 0)),!e.includes(void 0)}))),a},paginatedEntities(){return this.filteredEntities.slice(this.pagiBottom,this.pagiTop)},pagiBottom(){return(this.currentPage-1)*this.pagination},pagiTop(){return this.currentPage*this.pagination||1},lastPage(){return this.pagination&&this.filteredEntities?Math.ceil((this.filteredEntities.length||1)/this.pagination):1},pagiPrev(){return 1===this.currentPage?this.lastPage:this.currentPage-1},pagiNext(){return this.currentPage===this.lastPage?1:this.currentPage+1},searchArray(){return this.searchString.split(" ")}},methods:{},async mounted(){this.entities=this.tableData}},y=t(1241);const w=(0,y.A)(f,[["render",b],["__scopeId","data-v-53097cd8"]]);var E=w},6466:function(a,e,t){t.d(e,{A:function(){return d}});var i=t(6768),n=t(5130);const s={class:"spinner-main"};function r(a,e,t,r,l,c){return(0,i.uX)(),(0,i.CE)("div",s,[(0,i.bF)(n.eB,{name:"fade"},{default:(0,i.k6)((()=>e[0]||(e[0]=[(0,i.Lk)("div",{class:"loader-ring"},[(0,i.Lk)("div"),(0,i.Lk)("div"),(0,i.Lk)("div"),(0,i.Lk)("div")],-1)]))),_:1})])}var l={name:"LoadingSpinner",data(){return{}}},c=t(1241);const o=(0,c.A)(l,[["render",r],["__scopeId","data-v-da99072c"]]);var d=o},4317:function(a,e,t){t.r(e),t.d(e,{default:function(){return b}});var i=t(6768),n=t(4232);const s={id:"browse-main"},r={class:"table-container"},l={class:"column"},c={class:"column"},o={class:"column"},d={class:"column"},u=["loading"],g=["body"],p={style:{"text-align":"center"}};function v(a,e,t,v,h,k){const L=(0,i.g2)("router-link"),m=(0,i.g2)("EntityTable"),P=(0,i.g2)("LoadingSpinner");return(0,i.uX)(),(0,i.CE)("div",s,[h.tableData.length?((0,i.uX)(),(0,i.Wv)(m,{key:0,tableData:h.tableData,title:""},{default:(0,i.k6)((({entities:a})=>[(0,i.Lk)("div",r,[e[0]||(e[0]=(0,i.Lk)("div",{class:"column label"},"Dataset ID",-1)),e[1]||(e[1]=(0,i.Lk)("div",{class:"column label"},"Name",-1)),e[2]||(e[2]=(0,i.Lk)("div",{class:"column label"},"Description",-1)),e[3]||(e[3]=(0,i.Lk)("div",{class:"column label"},"Size",-1)),((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(a,((a,e)=>((0,i.uX)(),(0,i.CE)(i.FK,null,[(0,i.Lk)("div",l,[(0,i.bF)(L,{to:{name:"search",query:{dataset_ids:a["Dataset ID"],limit:100}}},{default:(0,i.k6)((()=>[(0,i.eW)((0,n.v_)(a["Dataset ID"]),1)])),_:2},1032,["to"])]),(0,i.Lk)("div",c,(0,n.v_)(a.Name),1),(0,i.Lk)("div",o,(0,n.v_)(a.Description?.length>75?a.Description.substr(0,75)+"...":a.Description),1),(0,i.Lk)("div",d,(0,n.v_)(a.Size),1)],64)))),256))])])),_:1},8,["tableData"])):h.loading?((0,i.uX)(),(0,i.CE)("div",{key:1,class:"loading",loading:h.loading},[(0,i.bF)(P)],8,u)):((0,i.uX)(),(0,i.CE)("div",{key:2,class:"container",body:h.body},[(0,i.Lk)("p",p,(0,n.v_)(h.body),1)],8,g))])}var h=t(3143),k=t(6466),L={components:{EntityTable:h.A,LoadingSpinner:k.A},data(){return{loading:!0,tableData:[],body:"No datasets found"}},mounted(){this.urlQuery=window.location.search,console.log("GET: ",`/api/fetch_datasets${this.urlQuery}`),fetch(`/api/fetch_datasets${this.urlQuery}`,{method:"GET"}).then((a=>a.json())).then((a=>{"traceback"in a?alert(a["traceback"]):"response"in a?(this.body=a["response"],this.loading=!1):(this.tableData=a,this.loading=!1)}))}},m=t(1241);const P=(0,m.A)(L,[["render",v],["__scopeId","data-v-2194d621"]]);var b=P}}]);
//# sourceMappingURL=317.c491e7f9.js.map