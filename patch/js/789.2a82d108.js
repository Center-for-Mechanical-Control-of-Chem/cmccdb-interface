"use strict";(self["webpackChunkapp"]=self["webpackChunkapp"]||[]).push([[789],{5677:function(e,t,o){o.r(t),o.d(t,{default:function(){return I}});var n=o(6768);const s=e=>((0,n.Qi)("data-v-488826b6"),e=e(),(0,n.jt)(),e),a={id:"selected-set-main"},i={class:"header"},l=s((()=>(0,n.Lk)("div",{class:"title"},"Reaction Set",-1))),d={class:"action-button-holder"},c=["disabled"],r={key:0,class:"selected-set"},u={key:1,class:"no-results"},h=s((()=>(0,n.Lk)("div",{class:"title"},"There was an issue fetching your selected reactions.",-1))),p=[h],w={key:2,class:"loading"};function g(e,t,o,s,h,g){const R=(0,n.g2)("CopyButton"),b=(0,n.g2)("ReactionCard"),C=(0,n.g2)("LoadingSpinner"),k=(0,n.g2)("DownloadResults");return(0,n.uX)(),(0,n.CE)("div",a,[(0,n.Lk)("div",i,[l,(0,n.Lk)("div",d,[(0,n.bF)(R,{textToCopy:g.fullUrl,icon:"share",buttonText:"Shareable Link"},null,8,["textToCopy"]),(0,n.Lk)("button",{disabled:!g.reactionIds.length,onClick:t[0]||(t[0]=e=>h.showDownloadResults=!0)},"Download Reaction Set",8,c)])]),!h.loading&&h.reactions.length?((0,n.uX)(),(0,n.CE)("div",r,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(h.reactions,(e=>((0,n.uX)(),(0,n.Wv)(b,{reaction:e,isSelectable:!1,isSelected:!1},null,8,["reaction"])))),256))])):h.loading||h.reactions?.length?((0,n.uX)(),(0,n.CE)("div",w,[(0,n.bF)(C)])):((0,n.uX)(),(0,n.CE)("div",u,p)),(0,n.bF)(k,{reactionIds:g.reactionIds,showDownloadResults:h.showDownloadResults,onHideDownloadResults:t[1]||(t[1]=e=>h.showDownloadResults=!1)},null,8,["reactionIds","showDownloadResults"])])}var R=o(8212),b=o(2639),C=o.n(b),k=o(7753),v=o(6959),y=o(9554),f=o(5765),S={components:{LoadingSpinner:R.A,ReactionCard:v.A,DownloadResults:y.A,CopyButton:f.A},data(){return{reactions:[],loading:!0,showDownloadResults:!1}},computed:{reactionIds(){return this.$route.query.reaction_ids||[]},fullUrl(){return window.location.href}},methods:{async getSelectedReactions(){this.loading=!0;try{const e=new XMLHttpRequest;e.open("POST","/api/fetch_reactions"),e.setRequestHeader("Content-Type","application/json"),e.onload=()=>{let t=null;null!==e.response&&(t=JSON.parse(e.response),t.forEach((e=>{const t=e.proto,o=(0,k.A)(t);e.data=C().Reaction.deserializeBinary(o).toObject()}))),this.reactions=t,this.loading=!1},e.send(JSON.stringify(this.reactionIds))}catch(e){console.log(e),this.loading=!1}}},mounted(){this.getSelectedReactions()}},D=o(1241);const L=(0,D.A)(S,[["render",g],["__scopeId","data-v-488826b6"]]);var I=L}}]);
//# sourceMappingURL=789.2a82d108.js.map