"use strict";(self["webpackChunkapp"]=self["webpackChunkapp"]||[]).push([[625],{3100:function(a,e,t){t.d(e,{A:function(){return E}});var n=t(6768),i=t(4232),s=t(5130);const r={class:"table-main"},l={class:"table-container"},c={class:"header"},o={class:"title-holder"},d={class:"title"},u={key:0,class:"search-area"},g={class:"content"},h={class:"entities-holder"},p={key:0,class:"pagination"},v={class:"select"},k={class:"word"},L={class:"paginav no-click"},m={class:"word"},b={class:"word"};function P(a,e,t,P,f,y){return(0,n.uX)(),(0,n.CE)("div",r,[(0,n.Lk)("div",l,[(0,n.Lk)("div",c,[(0,n.Lk)("div",o,[(0,n.Lk)("div",d,(0,i.v_)(t.title),1)])]),t.displaySearch?((0,n.uX)(),(0,n.CE)("div",u,[e[8]||(e[8]=(0,n.Lk)("label",{for:"search"},"Search: ",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",id:"search","onUpdate:modelValue":e[0]||(e[0]=a=>f.searchString=a)},null,512),[[s.Jo,f.searchString]])])):(0,n.Q3)("",!0),(0,n.Lk)("div",g,[(0,n.Lk)("div",h,[(0,n.RG)(a.$slots,"default",{entities:y.paginatedEntities},void 0,!0)]),f.pagination&&f.entities?((0,n.uX)(),(0,n.CE)("div",p,[(0,n.Lk)("div",v,[e[10]||(e[10]=(0,n.eW)("Showing ")),(0,n.bo)((0,n.Lk)("select",{name:"pagination",id:"pagination","onUpdate:modelValue":e[1]||(e[1]=a=>f.pagination=a)},e[9]||(e[9]=[(0,n.Lk)("option",{value:"10"},"10",-1),(0,n.Lk)("option",{value:"25"},"25",-1),(0,n.Lk)("option",{value:"50"},"50",-1),(0,n.Lk)("option",{value:"100"},"100",-1)]),512),[[s.u1,f.pagination]]),(0,n.eW)(" of "+(0,i.v_)(y.filteredEntities.length)+" entries.",1)]),(0,n.Lk)("div",{class:"paginav first",onClick:e[2]||(e[2]=a=>f.currentPage=1)},e[11]||(e[11]=[(0,n.Lk)("img",{class:"chevron",src:"/img/arrowL.png"},null,-1),(0,n.Lk)("img",{class:"chevron",src:"/img/arrowL.png"},null,-1),(0,n.Lk)("span",{class:"word"},"First",-1)])),(0,n.Lk)("div",{class:"prev paginav",onClick:e[3]||(e[3]=a=>f.currentPage=y.pagiPrev)},e[12]||(e[12]=[(0,n.Lk)("img",{class:"chevron",src:"/img/arrowL.png"},null,-1),(0,n.Lk)("span",{class:"word"},"Previous",-1)])),(0,n.Lk)("div",{class:(0,i.C4)(["paginav",f.currentPage>1?"":"no-click"]),onClick:e[4]||(e[4]=a=>f.currentPage=f.currentPage>1?f.currentPage-1:f.currentPage)},[(0,n.Lk)("span",k,(0,i.v_)(f.currentPage>1?f.currentPage-1:"..."),1)],2),(0,n.Lk)("div",L,[(0,n.Lk)("span",m,(0,i.v_)(f.currentPage),1)]),(0,n.Lk)("div",{class:(0,i.C4)(["paginav",f.currentPage<y.lastPage?"":"no-click"]),onClick:e[5]||(e[5]=a=>f.currentPage=f.currentPage<y.lastPage?f.currentPage+1:f.currentPage)},[(0,n.Lk)("span",b,(0,i.v_)(f.currentPage<y.lastPage?f.currentPage+1:"..."),1)],2),(0,n.Lk)("div",{class:"next paginav",onClick:e[6]||(e[6]=a=>f.currentPage=y.pagiNext)},e[13]||(e[13]=[(0,n.Lk)("span",{class:"word"},"Next",-1),(0,n.Lk)("img",{class:"chevron",src:"/img/arrowR.png"},null,-1)])),(0,n.Lk)("div",{class:"paginav last",onClick:e[7]||(e[7]=a=>f.currentPage=y.lastPage)},e[14]||(e[14]=[(0,n.Lk)("span",{class:"word"},"Last",-1),(0,n.Lk)("img",{class:"chevron",src:"/img/arrowR.png"},null,-1),(0,n.Lk)("img",{class:"chevron",src:"/img/arrowR.png"},null,-1)]))])):(0,n.Q3)("",!0)])])])}var f={props:{tableData:Array,title:String,displaySearch:{type:Boolean,default:!0}},watch:{pagination(){this.currentPage=1}},data(){return{entities:null,localFilters:[],search:"",currentPage:1,loading:!0,pagination:10,searchString:""}},computed:{filteredEntities(){if(!this.entities)return[];let a=this.entities;return this.searchString&&(a=a.filter((a=>{let e=Array.apply(null,Array(this.searchArray.length));return this.searchArray.forEach(((t,n)=>{Object.keys(a).forEach((i=>{null!==a[i]&&a[i].toString().toLowerCase().includes(t.toLowerCase())&&(e[n]=!0)}))})),console.log("matching",e.includes(void 0)),!e.includes(void 0)}))),a},paginatedEntities(){return this.filteredEntities.slice(this.pagiBottom,this.pagiTop)},pagiBottom(){return(this.currentPage-1)*this.pagination},pagiTop(){return this.currentPage*this.pagination||1},lastPage(){return this.pagination&&this.filteredEntities?Math.ceil((this.filteredEntities.length||1)/this.pagination):1},pagiPrev(){return 1===this.currentPage?this.lastPage:this.currentPage-1},pagiNext(){return this.currentPage===this.lastPage?1:this.currentPage+1},searchArray(){return this.searchString.split(" ")}},methods:{},async mounted(){this.entities=this.tableData}},y=t(1241);const w=(0,y.A)(f,[["render",P],["__scopeId","data-v-da308df0"]]);var E=w},6466:function(a,e,t){t.d(e,{A:function(){return d}});var n=t(6768),i=t(5130);const s={class:"spinner-main"};function r(a,e,t,r,l,c){return(0,n.uX)(),(0,n.CE)("div",s,[(0,n.bF)(i.eB,{name:"fade"},{default:(0,n.k6)((()=>e[0]||(e[0]=[(0,n.Lk)("div",{class:"loader-ring"},[(0,n.Lk)("div"),(0,n.Lk)("div"),(0,n.Lk)("div"),(0,n.Lk)("div")],-1)]))),_:1})])}var l={name:"LoadingSpinner",data(){return{}}},c=t(1241);const o=(0,c.A)(l,[["render",r],["__scopeId","data-v-da99072c"]]);var d=o},9625:function(a,e,t){t.r(e),t.d(e,{default:function(){return P}});var n=t(6768),i=t(4232);const s={id:"browse-main"},r={class:"table-container"},l={class:"column"},c={class:"column"},o={class:"column"},d={class:"column"},u=["loading"],g=["body"],h={style:{"text-align":"center"}};function p(a,e,t,p,v,k){const L=(0,n.g2)("router-link"),m=(0,n.g2)("EntityTable"),b=(0,n.g2)("LoadingSpinner");return(0,n.uX)(),(0,n.CE)("div",s,[v.tableData.length?((0,n.uX)(),(0,n.Wv)(m,{key:0,tableData:v.tableData,title:""},{default:(0,n.k6)((({entities:t})=>[(0,n.Lk)("div",r,[e[0]||(e[0]=(0,n.Lk)("div",{class:"column label"},"Dataset ID",-1)),e[1]||(e[1]=(0,n.Lk)("div",{class:"column label"},"Name",-1)),e[2]||(e[2]=(0,n.Lk)("div",{class:"column label"},"Description",-1)),e[3]||(e[3]=(0,n.Lk)("div",{class:"column label"},"Size",-1)),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(t,((e,t)=>((0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.Lk)("div",l,[(0,n.bF)(L,{to:{name:"search",query:{dataset_ids:e["Dataset ID"],limit:100,database:a.$route.query.database}}},{default:(0,n.k6)((()=>[(0,n.eW)((0,i.v_)(e["Dataset ID"]),1)])),_:2},1032,["to"])]),(0,n.Lk)("div",c,(0,i.v_)(e.Name),1),(0,n.Lk)("div",o,(0,i.v_)(e.Description?.length>75?e.Description.substr(0,75)+"...":e.Description),1),(0,n.Lk)("div",d,(0,i.v_)(e.Size),1)],64)))),256))])])),_:1},8,["tableData"])):v.loading?((0,n.uX)(),(0,n.CE)("div",{key:1,class:"loading",loading:v.loading},[(0,n.bF)(b)],8,u)):((0,n.uX)(),(0,n.CE)("div",{key:2,class:"container",body:v.body},[(0,n.Lk)("p",h,(0,i.v_)(v.body),1)],8,g))])}t(4603),t(7566),t(8721);var v=t(3100),k=t(6466),L={components:{EntityTable:v.A,LoadingSpinner:k.A},methods:{getSearchParams(){const a=new URLSearchParams(window.location.search);return a},getDBQuery(){const a=this.getSearchParams(),e=a.get("database"),t=e.length?`?database=${e}`:"";return t}},data(){return{loading:!0,tableData:[],body:"No datasets found"}},mounted(){this.urlQuery=window.location.search,console.log("GET: ",`/api/fetch_datasets${this.urlQuery}`),fetch(`/api/fetch_datasets${this.urlQuery}`,{method:"GET"}).then((a=>a.json())).then((a=>{"traceback"in a?alert(a["traceback"]):"response"in a?(this.body=a["response"],this.loading=!1):(this.tableData=a,this.loading=!1)}))}},m=t(1241);const b=(0,m.A)(L,[["render",p],["__scopeId","data-v-6ccb61fa"]]);var P=b}}]);
//# sourceMappingURL=625.70ac45ac.js.map